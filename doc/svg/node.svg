<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="15210pt" height="1443pt"
 viewBox="0.00 0.00 15209.50 1443.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1439.0017)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1439.0017 15205.5,-1439.0017 15205.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1417.0017" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1412.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 317</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1345.0017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1340.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;222</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.5,-1398.8331C992.5,-1391.1327 992.5,-1381.9761 992.5,-1373.4183"/>
<polygon fill="#000000" stroke="#000000" points="996.0001,-1373.4149 992.5,-1363.415 989.0001,-1373.415 996.0001,-1373.4149"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="359.5" cy="-1273.0017" rx="43.5751" ry="18"/>
<text text-anchor="middle" x="359.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Node</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M928.7159,-1340.7003C826.9906,-1333.382 621.9017,-1316.7507 449.5,-1291.0017 435.9369,-1288.976 421.3215,-1286.278 407.8942,-1283.5886"/>
<polygon fill="#000000" stroke="#000000" points="408.3933,-1280.1183 397.8949,-1281.545 406.9916,-1286.9766 408.3933,-1280.1183"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="490.5" cy="-1273.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="490.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M928.4672,-1340.7267C841.8115,-1334.1413 682.7144,-1319.2153 549.5,-1291.0017 542.5313,-1289.5258 535.2009,-1287.6017 528.1671,-1285.5619"/>
<polygon fill="#000000" stroke="#000000" points="528.7359,-1282.0773 518.1507,-1282.5294 526.7075,-1288.777 528.7359,-1282.0773"/>
</g>
<!-- section_4 -->
<g id="node5" class="node">
<title>section_4</title>
<ellipse fill="none" stroke="#000000" cx="619.5" cy="-1273.0017" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="619.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 6&#45;12</text>
</g>
<!-- section_1&#45;&gt;section_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;section_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M938.661,-1334.6092C870.3014,-1321.4138 752.6398,-1298.7016 680.8704,-1284.848"/>
<polygon fill="#000000" stroke="#000000" points="681.1079,-1281.3293 670.6258,-1282.8705 679.7811,-1288.2024 681.1079,-1281.3293"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1273.0017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 13&#45;27</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.5,-1326.8331C992.5,-1319.1327 992.5,-1309.9761 992.5,-1301.4183"/>
<polygon fill="#000000" stroke="#000000" points="996.0001,-1301.4149 992.5,-1291.415 989.0001,-1301.415 996.0001,-1301.4149"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1398.5" cy="-1273.0017" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1398.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 28&#45;44</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1047.6775,-1335.2165C1122.0088,-1322.0346 1254.0929,-1298.6109 1333.2591,-1284.5715"/>
<polygon fill="#000000" stroke="#000000" points="1333.8826,-1288.0157 1343.1178,-1282.8232 1332.6603,-1281.1232 1333.8826,-1288.0157"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="2345.5" cy="-1273.0017" rx="70.655" ry="18"/>
<text text-anchor="middle" x="2345.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 45&#45;204</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1057.3022,-1341.5533C1281.0175,-1329.6482 2020.5967,-1290.2915 2265.761,-1277.245"/>
<polygon fill="#000000" stroke="#000000" points="2266.2164,-1280.7258 2276.0163,-1276.6993 2265.8444,-1273.7357 2266.2164,-1280.7258"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="7967.5" cy="-1273.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7967.5" y="-1268.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 223&#45;282</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1058.1922,-1344.3236C1717.5143,-1337.5177 7133.2758,-1281.6131 7881.8116,-1273.8862"/>
<polygon fill="#000000" stroke="#000000" points="7882.0084,-1277.3845 7891.9717,-1273.7814 7881.9361,-1270.3849 7882.0084,-1277.3845"/>
</g>
<!-- leaf_9 -->
<g id="node10" class="node">
<title>leaf_9</title>
<polygon fill="none" stroke="#c0c0c0" points="308.5,-1219.0017 250.5,-1219.0017 250.5,-1183.0017 308.5,-1183.0017 308.5,-1219.0017"/>
<text text-anchor="middle" x="279.5" y="-1197.5017" font-family="Inconsolata" font-size="14.00" fill="#000000">* Node</text>
</g>
<!-- header_2&#45;&gt;leaf_9 -->
<g id="edge9" class="edge">
<title>header_2&#45;&gt;leaf_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M340.9453,-1256.3025C330.8944,-1247.2567 318.2788,-1235.9027 307.098,-1225.8399"/>
<polygon fill="#000000" stroke="#000000" points="309.4101,-1223.212 299.6357,-1219.1239 304.7273,-1228.4151 309.4101,-1223.212"/>
</g>
<!-- raw_10 -->
<g id="node11" class="node">
<title>raw_10</title>
<ellipse fill="none" stroke="#000000" cx="353.5" cy="-1201.0017" rx="27" ry="18"/>
<text text-anchor="middle" x="353.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;raw_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M466.9489,-1260.6245C444.0196,-1248.5741 409.0601,-1230.2012 384.0117,-1217.0371"/>
<polygon fill="#000000" stroke="#000000" points="385.423,-1213.8249 374.9427,-1212.2709 382.1664,-1220.0213 385.423,-1213.8249"/>
</g>
<!-- header_12 -->
<g id="node13" class="node">
<title>header_12</title>
<ellipse fill="none" stroke="#000000" cx="453.5" cy="-1201.0017" rx="54.6851" ry="18"/>
<text text-anchor="middle" x="453.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : includes</text>
</g>
<!-- section_4&#45;&gt;header_12 -->
<g id="edge12" class="edge">
<title>section_4&#45;&gt;header_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M585.1047,-1258.0833C559.28,-1246.8822 523.7624,-1231.477 496.1334,-1219.4933"/>
<polygon fill="#000000" stroke="#000000" points="497.2854,-1216.178 486.7185,-1215.4097 494.5,-1222.6 497.2854,-1216.178"/>
</g>
<!-- prose_13 -->
<g id="node14" class="node">
<title>prose_13</title>
<ellipse fill="none" stroke="#000000" cx="558.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="558.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_4&#45;&gt;prose_13 -->
<g id="edge13" class="edge">
<title>section_4&#45;&gt;prose_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M604.4213,-1255.204C596.8139,-1246.2247 587.4694,-1235.1951 579.2003,-1225.4348"/>
<polygon fill="#000000" stroke="#000000" points="581.7035,-1222.9749 572.5688,-1217.6075 576.3626,-1227.4999 581.7035,-1222.9749"/>
</g>
<!-- codeblock_14 -->
<g id="node15" class="node">
<title>codeblock_14</title>
<ellipse fill="none" stroke="#000000" cx="680.5" cy="-1201.0017" rx="71.7805" ry="18"/>
<text text-anchor="middle" x="680.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 8&#45;11</text>
</g>
<!-- section_4&#45;&gt;codeblock_14 -->
<g id="edge14" class="edge">
<title>section_4&#45;&gt;codeblock_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M634.5787,-1255.204C641.9105,-1246.55 650.8557,-1235.9917 658.8968,-1226.5006"/>
<polygon fill="#000000" stroke="#000000" points="661.5896,-1228.7366 665.3834,-1218.8443 656.2487,-1224.2117 661.5896,-1228.7366"/>
</g>
<!-- header_19 -->
<g id="node20" class="node">
<title>header_19</title>
<ellipse fill="none" stroke="#000000" cx="857.5" cy="-1201.0017" rx="84.6634" ry="18"/>
<text text-anchor="middle" x="857.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node metatable</text>
</g>
<!-- section_5&#45;&gt;header_19 -->
<g id="edge19" class="edge">
<title>section_5&#45;&gt;header_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M962.2034,-1256.8435C943.2423,-1246.7309 918.5854,-1233.5806 897.9625,-1222.5817"/>
<polygon fill="#000000" stroke="#000000" points="899.5742,-1219.4746 889.1036,-1217.8569 896.28,-1225.6511 899.5742,-1219.4746"/>
</g>
<!-- prose_20 -->
<g id="node21" class="node">
<title>prose_20</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_20 -->
<g id="edge20" class="edge">
<title>section_5&#45;&gt;prose_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.5,-1254.8331C992.5,-1247.1327 992.5,-1237.9761 992.5,-1229.4183"/>
<polygon fill="#000000" stroke="#000000" points="996.0001,-1229.4149 992.5,-1219.415 989.0001,-1229.415 996.0001,-1229.4149"/>
</g>
<!-- codeblock_21 -->
<g id="node22" class="node">
<title>codeblock_21</title>
<ellipse fill="none" stroke="#000000" cx="1120.5" cy="-1201.0017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1120.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 19&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_21 -->
<g id="edge21" class="edge">
<title>section_5&#45;&gt;codeblock_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.5452,-1256.6638C1039.3745,-1246.6348 1062.4246,-1233.6691 1081.7922,-1222.7749"/>
<polygon fill="#000000" stroke="#000000" points="1083.6817,-1225.7278 1090.6815,-1217.7746 1080.2498,-1219.6268 1083.6817,-1225.7278"/>
</g>
<!-- header_26 -->
<g id="node27" class="node">
<title>header_26</title>
<ellipse fill="none" stroke="#000000" cx="1261.5" cy="-1201.0017" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="1261.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Fields</text>
</g>
<!-- section_6&#45;&gt;header_26 -->
<g id="edge26" class="edge">
<title>section_6&#45;&gt;header_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1368.0953,-1257.0226C1347.4022,-1246.1474 1319.9084,-1231.6981 1298.0265,-1220.1981"/>
<polygon fill="#000000" stroke="#000000" points="1299.5086,-1217.0232 1289.0283,-1215.4692 1296.2521,-1223.2195 1299.5086,-1217.0232"/>
</g>
<!-- prose_27 -->
<g id="node28" class="node">
<title>prose_27</title>
<ellipse fill="none" stroke="#000000" cx="1357.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1357.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_27 -->
<g id="edge27" class="edge">
<title>section_6&#45;&gt;prose_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1388.3652,-1255.204C1383.5632,-1246.7712 1377.7315,-1236.5303 1372.4358,-1227.2305"/>
<polygon fill="#000000" stroke="#000000" points="1375.3667,-1225.3042 1367.3768,-1218.3463 1369.2838,-1228.7681 1375.3667,-1225.3042"/>
</g>
<!-- prose_28 -->
<g id="node29" class="node">
<title>prose_28</title>
<ellipse fill="none" stroke="#000000" cx="1439.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1439.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_28 -->
<g id="edge28" class="edge">
<title>section_6&#45;&gt;prose_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1408.6348,-1255.204C1413.4368,-1246.7712 1419.2685,-1236.5303 1424.5642,-1227.2305"/>
<polygon fill="#000000" stroke="#000000" points="1427.7162,-1228.7681 1429.6232,-1218.3463 1421.6333,-1225.3042 1427.7162,-1228.7681"/>
</g>
<!-- codeblock_29 -->
<g id="node30" class="node">
<title>codeblock_29</title>
<ellipse fill="none" stroke="#000000" cx="1567.5" cy="-1201.0017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1567.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 37&#45;40</text>
</g>
<!-- section_6&#45;&gt;codeblock_29 -->
<g id="edge29" class="edge">
<title>section_6&#45;&gt;codeblock_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1434.3406,-1257.7324C1459.5622,-1246.987 1493.5576,-1232.5038 1520.8858,-1220.861"/>
<polygon fill="#000000" stroke="#000000" points="1522.4208,-1224.0115 1530.2488,-1216.872 1519.6771,-1217.5716 1522.4208,-1224.0115"/>
</g>
<!-- prose_30 -->
<g id="node31" class="node">
<title>prose_30</title>
<ellipse fill="none" stroke="#000000" cx="1891.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1891.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_30 -->
<g id="edge30" class="edge">
<title>section_6&#45;&gt;prose_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1456.5031,-1264.5307C1557.274,-1249.8136 1762.2962,-1219.8712 1850.091,-1207.0493"/>
<polygon fill="#000000" stroke="#000000" points="1850.8124,-1210.4811 1860.2016,-1205.5727 1849.8008,-1203.5546 1850.8124,-1210.4811"/>
</g>
<!-- header_43 -->
<g id="node44" class="node">
<title>header_43</title>
<ellipse fill="none" stroke="#000000" cx="2238.5" cy="-1201.0017" rx="56.1302" ry="18"/>
<text text-anchor="middle" x="2238.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Methods</text>
</g>
<!-- section_7&#45;&gt;header_43 -->
<g id="edge43" class="edge">
<title>section_7&#45;&gt;header_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2320.4133,-1256.1209C2305.716,-1246.2312 2286.9885,-1233.6295 2271.1508,-1222.9723"/>
<polygon fill="#000000" stroke="#000000" points="2272.9438,-1219.9603 2262.6933,-1217.2813 2269.0359,-1225.7679 2272.9438,-1219.9603"/>
</g>
<!-- prose_44 -->
<g id="node45" class="node">
<title>prose_44</title>
<ellipse fill="none" stroke="#000000" cx="2345.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2345.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_44 -->
<g id="edge44" class="edge">
<title>section_7&#45;&gt;prose_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2345.5,-1254.8331C2345.5,-1247.1327 2345.5,-1237.9761 2345.5,-1229.4183"/>
<polygon fill="#000000" stroke="#000000" points="2349.0001,-1229.4149 2345.5,-1219.415 2342.0001,-1229.415 2349.0001,-1229.4149"/>
</g>
<!-- section_45 -->
<g id="node46" class="node">
<title>section_45</title>
<ellipse fill="none" stroke="#000000" cx="3126.5" cy="-1201.0017" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3126.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 48&#45;185</text>
</g>
<!-- section_7&#45;&gt;section_45 -->
<g id="edge45" class="edge">
<title>section_7&#45;&gt;section_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2412.0876,-1266.863C2556.3263,-1253.5657 2896.929,-1222.1658 3049.8424,-1208.0687"/>
<polygon fill="#000000" stroke="#000000" points="3050.4445,-1211.5282 3060.0809,-1207.1249 3049.8018,-1204.5577 3050.4445,-1211.5282"/>
</g>
<!-- section_46 -->
<g id="node47" class="node">
<title>section_46</title>
<ellipse fill="none" stroke="#000000" cx="6100.5" cy="-1201.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6100.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 205&#45;222</text>
</g>
<!-- section_7&#45;&gt;section_46 -->
<g id="edge46" class="edge">
<title>section_7&#45;&gt;section_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2415.9206,-1271.6514C2880.7319,-1262.7389 5504.7819,-1212.4243 6014.6589,-1202.6477"/>
<polygon fill="#000000" stroke="#000000" points="6014.9545,-1206.1427 6024.8855,-1202.4516 6014.8202,-1199.144 6014.9545,-1206.1427"/>
</g>
<!-- header_104 -->
<g id="node105" class="node">
<title>header_104</title>
<ellipse fill="none" stroke="#000000" cx="7669.5" cy="-1201.0017" rx="83.6943" ry="18"/>
<text text-anchor="middle" x="7669.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Node Instances</text>
</g>
<!-- section_8&#45;&gt;header_104 -->
<g id="edge104" class="edge">
<title>section_8&#45;&gt;header_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7914.2236,-1260.1296C7864.1057,-1248.0205 7788.9307,-1229.8575 7735.1346,-1216.8597"/>
<polygon fill="#000000" stroke="#000000" points="7735.8917,-1213.442 7725.3493,-1214.4955 7734.2476,-1220.2462 7735.8917,-1213.442"/>
</g>
<!-- prose_105 -->
<g id="node106" class="node">
<title>prose_105</title>
<ellipse fill="none" stroke="#000000" cx="7803.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7803.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_105 -->
<g id="edge105" class="edge">
<title>section_8&#45;&gt;prose_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7931.1031,-1257.0226C7903.4153,-1244.867 7865.5566,-1228.2461 7838.2766,-1216.2695"/>
<polygon fill="#000000" stroke="#000000" points="7839.6659,-1213.057 7829.1025,-1212.2418 7836.8519,-1219.4665 7839.6659,-1213.057"/>
</g>
<!-- prose_106 -->
<g id="node107" class="node">
<title>prose_106</title>
<ellipse fill="none" stroke="#000000" cx="7885.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7885.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_106 -->
<g id="edge106" class="edge">
<title>section_8&#45;&gt;prose_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7947.6501,-1255.5725C7936.5588,-1245.8338 7922.6239,-1233.5983 7910.7613,-1223.1824"/>
<polygon fill="#000000" stroke="#000000" points="7912.764,-1220.2831 7902.9403,-1216.3151 7908.1454,-1225.5432 7912.764,-1220.2831"/>
</g>
<!-- prose_107 -->
<g id="node108" class="node">
<title>prose_107</title>
<ellipse fill="none" stroke="#000000" cx="7967.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7967.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_107 -->
<g id="edge107" class="edge">
<title>section_8&#45;&gt;prose_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7967.5,-1254.8331C7967.5,-1247.1327 7967.5,-1237.9761 7967.5,-1229.4183"/>
<polygon fill="#000000" stroke="#000000" points="7971.0001,-1229.4149 7967.5,-1219.415 7964.0001,-1229.415 7971.0001,-1229.4149"/>
</g>
<!-- prose_108 -->
<g id="node109" class="node">
<title>prose_108</title>
<ellipse fill="none" stroke="#000000" cx="8279.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8279.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_108 -->
<g id="edge108" class="edge">
<title>section_8&#45;&gt;prose_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8021.8463,-1260.4603C8083.9744,-1246.123 8184.2029,-1222.9934 8239.5591,-1210.2188"/>
<polygon fill="#000000" stroke="#000000" points="8240.397,-1213.6176 8249.3539,-1207.9585 8238.8229,-1206.7968 8240.397,-1213.6176"/>
</g>
<!-- prose_109 -->
<g id="node110" class="node">
<title>prose_109</title>
<ellipse fill="none" stroke="#000000" cx="8444.5" cy="-1201.0017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8444.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_109 -->
<g id="edge109" class="edge">
<title>section_8&#45;&gt;prose_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8031.3354,-1263.3662C8130.6635,-1248.3733 8319.4633,-1219.8752 8402.9816,-1207.2687"/>
<polygon fill="#000000" stroke="#000000" points="8403.7392,-1210.694 8413.1048,-1205.7406 8402.6944,-1203.7724 8403.7392,-1210.694"/>
</g>
<!-- section_110 -->
<g id="node111" class="node">
<title>section_110</title>
<ellipse fill="none" stroke="#000000" cx="9512.5" cy="-1201.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9512.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 247&#45;269</text>
</g>
<!-- section_8&#45;&gt;section_110 -->
<g id="edge110" class="edge">
<title>section_8&#45;&gt;section_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8041.7581,-1269.5411C8299.5621,-1257.527 9155.0162,-1217.6612 9427.9996,-1204.9396"/>
<polygon fill="#000000" stroke="#000000" points="9428.4125,-1208.4242 9438.2387,-1204.4624 9428.0866,-1201.4318 9428.4125,-1208.4242"/>
</g>
<!-- section_111 -->
<g id="node112" class="node">
<title>section_111</title>
<ellipse fill="none" stroke="#000000" cx="12959.5" cy="-1201.0017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="12959.5" y="-1196.8017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 283&#45;317</text>
</g>
<!-- section_8&#45;&gt;section_111 -->
<g id="edge111" class="edge">
<title>section_8&#45;&gt;section_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8042.9251,-1271.9139C8615.1244,-1263.661 12266.0106,-1211.004 12873.7878,-1202.238"/>
<polygon fill="#000000" stroke="#000000" points="12873.8434,-1205.7376 12883.7918,-1202.0937 12873.7424,-1198.7383 12873.8434,-1205.7376"/>
</g>
<!-- leaf_11 -->
<g id="node12" class="node">
<title>leaf_11</title>
<polygon fill="none" stroke="#c0c0c0" points="359,-1147.2029 0,-1147.2029 0,-1075.4005 359,-1075.4005 359,-1147.2029"/>
<text text-anchor="middle" x="179.5" y="-1083.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Time to stabilize this class once and for all. </text>
</g>
<!-- raw_10&#45;&gt;leaf_11 -->
<g id="edge11" class="edge">
<title>raw_10&#45;&gt;leaf_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M331.8146,-1189.8225C313.1531,-1180.2022 285.0432,-1165.7111 258.0324,-1151.7865"/>
<polygon fill="#000000" stroke="#000000" points="259.4218,-1148.5651 248.9296,-1147.0939 256.2143,-1154.787 259.4218,-1148.5651"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="477.5,-1129.3017 377.5,-1129.3017 377.5,-1093.3017 477.5,-1093.3017 477.5,-1129.3017"/>
<text text-anchor="middle" x="427.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">*** includes</text>
</g>
<!-- header_12&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>header_12&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M448.2385,-1182.8496C444.6087,-1170.3266 439.7133,-1153.4374 435.5902,-1139.213"/>
<polygon fill="#000000" stroke="#000000" points="438.8993,-1138.0571 432.7537,-1129.4268 432.1761,-1140.0059 438.8993,-1138.0571"/>
</g>
<!-- raw_16 -->
<g id="node17" class="node">
<title>raw_16</title>
<ellipse fill="none" stroke="#000000" cx="522.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="522.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_13&#45;&gt;raw_16 -->
<g id="edge16" class="edge">
<title>prose_13&#45;&gt;raw_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M551.3876,-1183.2799C546.2596,-1170.5028 539.2433,-1153.0205 533.4097,-1138.485"/>
<polygon fill="#000000" stroke="#000000" points="536.5705,-1136.9636 529.5977,-1128.9867 530.0742,-1139.5708 536.5705,-1136.9636"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="793.5,-1130.6023 567.5,-1130.6023 567.5,-1092.0011 793.5,-1092.0011 793.5,-1130.6023"/>
<text text-anchor="middle" x="680.5" y="-1115.5017" font-family="Inconsolata" font-size="14.00" fill="#000000">local s = require &quot;status&quot;</text>
<text text-anchor="middle" x="680.5" y="-1100.1017" font-family="Inconsolata" font-size="14.00" fill="#000000">local dot = require &quot;node/dot&quot;</text>
</g>
<!-- codeblock_14&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>codeblock_14&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M680.5,-1182.8496C680.5,-1170.7745 680.5,-1154.6401 680.5,-1140.7493"/>
<polygon fill="#000000" stroke="#000000" points="684.0001,-1140.6686 680.5,-1130.6686 677.0001,-1140.6687 684.0001,-1140.6686"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="224.5,-852.5013 170.5,-852.5013 170.5,-816.5013 224.5,-816.5013 224.5,-852.5013"/>
</g>
<!-- raw_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M510.1797,-1095.0264C503.892,-1087.9023 495.6433,-1080.1463 486.5,-1075.6017 384.7935,-1025.0492 315.102,-1118.6009 233.5,-1039.6017 185.6285,-993.2571 188.0268,-907.3376 193.1249,-862.8468"/>
<polygon fill="#000000" stroke="#000000" points="196.6216,-863.0944 194.4144,-852.732 189.6778,-862.2091 196.6216,-863.0944"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="947,-1129.3017 812,-1129.3017 812,-1093.3017 947,-1093.3017 947,-1129.3017"/>
<text text-anchor="middle" x="879.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Node metatable</text>
</g>
<!-- header_19&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>header_19&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M861.952,-1182.8496C865.0234,-1170.3266 869.1657,-1153.4374 872.6544,-1139.213"/>
<polygon fill="#000000" stroke="#000000" points="876.0718,-1139.9727 875.0546,-1129.4268 869.2732,-1138.3053 876.0718,-1139.9727"/>
</g>
<!-- raw_23 -->
<g id="node24" class="node">
<title>raw_23</title>
<ellipse fill="none" stroke="#000000" cx="992.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="992.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_20&#45;&gt;raw_23 -->
<g id="edge23" class="edge">
<title>prose_20&#45;&gt;raw_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M992.5,-1182.8496C992.5,-1170.4482 992.5,-1153.765 992.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="996.0001,-1139.4268 992.5,-1129.4268 989.0001,-1139.4269 996.0001,-1139.4268"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="1181,-1146.5021 1060,-1146.5021 1060,-1076.1013 1181,-1076.1013 1181,-1146.5021"/>
<text text-anchor="middle" x="1120.5" y="-1115.2017" font-family="Inconsolata" font-size="14.00" fill="#000000">local N = {}</text>
<text text-anchor="middle" x="1120.5" y="-1099.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.__index = N</text>
<text text-anchor="middle" x="1120.5" y="-1084.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.isNode = true</text>
</g>
<!-- codeblock_21&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>codeblock_21&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1120.5,-1182.8496C1120.5,-1175.1803 1120.5,-1165.8734 1120.5,-1156.544"/>
<polygon fill="#000000" stroke="#000000" points="1124.0001,-1156.488 1120.5,-1146.488 1117.0001,-1156.4881 1124.0001,-1156.488"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="776.5,-877.7017 242.5,-877.7017 242.5,-791.301 776.5,-791.301 776.5,-877.7017"/>
<text text-anchor="middle" x="509.5" y="-830.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The Node metatable is the root table for any Node. &#160;I&#39;m planning to make</text>
<text text-anchor="middle" x="509.5" y="-815.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">an intermediate class/table called Root that is in common for any instance</text>
<text text-anchor="middle" x="509.5" y="-799.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">Node. &#160;All Root absolutely has to contain is =str=. </text>
</g>
<!-- raw_23&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>raw_23&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M979.6113,-1095.3055C973.0995,-1088.2426 964.6453,-1080.4574 955.5,-1075.6017 887.2875,-1039.3843 855.8961,-1071.367 785.5,-1039.6017 699.405,-1000.7525 614.3053,-931.5808 561.8568,-884.4072"/>
<polygon fill="#000000" stroke="#000000" points="564.1196,-881.7344 554.3592,-877.613 559.4191,-886.9215 564.1196,-881.7344"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1301,-1129.3017 1222,-1129.3017 1222,-1093.3017 1301,-1093.3017 1301,-1129.3017"/>
<text text-anchor="middle" x="1261.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Fields</text>
</g>
<!-- header_26&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>header_26&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1261.5,-1182.8496C1261.5,-1170.4482 1261.5,-1153.765 1261.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="1265.0001,-1139.4268 1261.5,-1129.4268 1258.0001,-1139.4269 1265.0001,-1139.4268"/>
</g>
<!-- raw_32 -->
<g id="node33" class="node">
<title>raw_32</title>
<ellipse fill="none" stroke="#000000" cx="1351.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="1351.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_27&#45;&gt;raw_32 -->
<g id="edge32" class="edge">
<title>prose_27&#45;&gt;raw_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1356.2858,-1182.8496C1355.4563,-1170.4482 1354.3404,-1153.765 1353.3947,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="1356.8721,-1139.1709 1352.7124,-1129.4268 1349.8877,-1139.6382 1356.8721,-1139.1709"/>
</g>
<!-- raw_34 -->
<g id="node35" class="node">
<title>raw_34</title>
<ellipse fill="none" stroke="#000000" cx="1439.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="1439.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_28&#45;&gt;raw_34 -->
<g id="edge34" class="edge">
<title>prose_28&#45;&gt;raw_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1439.5,-1182.8496C1439.5,-1170.4482 1439.5,-1153.765 1439.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="1443.0001,-1139.4268 1439.5,-1129.4268 1436.0001,-1139.4269 1443.0001,-1139.4268"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="1635,-1130.6023 1500,-1130.6023 1500,-1092.0011 1635,-1092.0011 1635,-1130.6023"/>
<text text-anchor="middle" x="1567.5" y="-1115.5017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.line_first = &#45;1</text>
<text text-anchor="middle" x="1567.5" y="-1100.1017" font-family="Inconsolata" font-size="14.00" fill="#000000">N.line_last &#160;= &#45;1</text>
</g>
<!-- codeblock_29&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_29&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1567.5,-1182.8496C1567.5,-1170.7745 1567.5,-1154.6401 1567.5,-1140.7493"/>
<polygon fill="#000000" stroke="#000000" points="1571.0001,-1140.6686 1567.5,-1130.6686 1564.0001,-1140.6687 1571.0001,-1140.6686"/>
</g>
<!-- raw_37 -->
<g id="node38" class="node">
<title>raw_37</title>
<ellipse fill="none" stroke="#000000" cx="1799.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="1799.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_37 -->
<g id="edge37" class="edge">
<title>prose_30&#45;&gt;raw_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1875.4748,-1185.3772C1860.7422,-1171.0129 1838.7439,-1149.5645 1822.2044,-1133.4385"/>
<polygon fill="#000000" stroke="#000000" points="1824.6384,-1130.9233 1815.035,-1126.4483 1819.7517,-1135.9354 1824.6384,-1130.9233"/>
</g>
<!-- link_38 -->
<g id="node39" class="node">
<title>link_38</title>
<ellipse fill="none" stroke="#000000" cx="1983.5" cy="-1111.3017" rx="72.074" ry="18"/>
<text text-anchor="middle" x="1983.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link: line iterator</text>
</g>
<!-- prose_30&#45;&gt;link_38 -->
<g id="edge38" class="edge">
<title>prose_30&#45;&gt;link_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1907.5252,-1185.3772C1921.4172,-1171.8325 1941.7694,-1151.989 1957.9136,-1136.2485"/>
<polygon fill="#000000" stroke="#000000" points="1960.7374,-1138.3835 1965.4541,-1128.8965 1955.8507,-1133.3715 1960.7374,-1138.3835"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="2133.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="2133.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_30&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_30&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1921.1306,-1193.453C1956.0307,-1184.1753 2015.4646,-1167.1585 2064.5,-1147.0017 2077.6901,-1141.5797 2091.7552,-1134.5465 2103.7224,-1128.158"/>
<polygon fill="#000000" stroke="#000000" points="2105.6993,-1131.0671 2112.8133,-1123.2158 2102.3559,-1124.9171 2105.6993,-1131.0671"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="1308,-877.7017 795,-877.7017 795,-791.301 1308,-791.301 1308,-877.7017"/>
<text text-anchor="middle" x="1051.5" y="-830.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; id : &#160;A string naming the Node. </text>
<text text-anchor="middle" x="1051.5" y="-815.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;This is identical to the name of the pattern that recognizes</text>
<text text-anchor="middle" x="1051.5" y="-799.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;or captures it.</text>
</g>
<!-- raw_32&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_32&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1335.3707,-1096.4197C1292.7449,-1057.0902 1175.6026,-949.0068 1105.8375,-884.6368"/>
<polygon fill="#000000" stroke="#000000" points="1108.1289,-881.9888 1098.4059,-877.7799 1103.382,-887.1335 1108.1289,-881.9888"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="1552.5,-861.8018 1326.5,-861.8018 1326.5,-807.2009 1552.5,-807.2009 1552.5,-861.8018"/>
<text text-anchor="middle" x="1439.5" y="-830.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_first : &#160;Always &#45;1.</text>
<text text-anchor="middle" x="1439.5" y="-815.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; line_last &#160;: &#160;Always &#45;1. </text>
</g>
<!-- raw_34&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>raw_34&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1439.5,-1093.1401C1439.5,-1048.4359 1439.5,-932.3358 1439.5,-872.0576"/>
<polygon fill="#000000" stroke="#000000" points="1443.0001,-871.8313 1439.5,-861.8313 1436.0001,-871.8313 1443.0001,-871.8313"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="1992.5,-854.4034 1570.5,-854.4034 1570.5,-814.5992 1992.5,-814.5992 1992.5,-854.4034"/>
<text text-anchor="middle" x="1781.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">It occurs to me we could lazily calculate these using the </text>
</g>
<!-- raw_37&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_37&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1798.319,-1093.1401C1795.2917,-1046.5872 1787.2297,-922.611 1783.4751,-864.8746"/>
<polygon fill="#000000" stroke="#000000" points="1786.947,-864.327 1782.8054,-854.5753 1779.9618,-864.7813 1786.947,-864.327"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2208.5,-852.5013 2010.5,-852.5013 2010.5,-816.5013 2208.5,-816.5013 2208.5,-852.5013"/>
<text text-anchor="middle" x="2109.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">[[line iterator][httk://]]</text>
</g>
<!-- link_38&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>link_38&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1991.7672,-1093.1401C2013.3045,-1045.8263 2071.2465,-918.5377 2096.9383,-862.0973"/>
<polygon fill="#000000" stroke="#000000" points="2100.2448,-863.2813 2101.2023,-852.7298 2093.8738,-860.3812 2100.2448,-863.2813"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2280.5,-854.4034 2226.5,-854.4034 2226.5,-814.5992 2280.5,-814.5992 2280.5,-854.4034"/>
<text text-anchor="middle" x="2253.5" y="-839.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">.</text>
</g>
<!-- raw_39&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>raw_39&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2152.055,-1097.8334C2174.2137,-1081.3644 2209.3212,-1053.9196 2217.5,-1039.6017 2249.4192,-983.7233 2254.355,-906.3897 2254.3998,-864.4544"/>
<polygon fill="#000000" stroke="#000000" points="2257.8989,-864.3155 2254.3149,-854.3453 2250.8991,-864.3744 2257.8989,-864.3155"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="2281.5,-1129.3017 2195.5,-1129.3017 2195.5,-1093.3017 2281.5,-1093.3017 2281.5,-1129.3017"/>
<text text-anchor="middle" x="2238.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Methods</text>
</g>
<!-- header_43&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>header_43&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2238.5,-1182.8496C2238.5,-1170.4482 2238.5,-1153.765 2238.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="2242.0001,-1139.4268 2238.5,-1129.4268 2235.0001,-1139.4269 2242.0001,-1139.4268"/>
</g>
<!-- raw_48 -->
<g id="node49" class="node">
<title>raw_48</title>
<ellipse fill="none" stroke="#000000" cx="2334.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="2334.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_44&#45;&gt;raw_48 -->
<g id="edge48" class="edge">
<title>prose_44&#45;&gt;raw_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2343.274,-1182.8496C2341.7532,-1170.4482 2339.7073,-1153.765 2337.9737,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="2341.414,-1138.9264 2336.7227,-1129.4268 2334.466,-1139.7785 2341.414,-1138.9264"/>
</g>
<!-- header_50 -->
<g id="node51" class="node">
<title>header_50</title>
<ellipse fill="none" stroke="#000000" cx="2523.5" cy="-1111.3017" rx="64.997" ry="18"/>
<text text-anchor="middle" x="2523.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Visualizers</text>
</g>
<!-- section_45&#45;&gt;header_50 -->
<g id="edge50" class="edge">
<title>section_45&#45;&gt;header_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3058.5203,-1195.8153C2968.2287,-1188.2945 2804.005,-1172.4136 2665.5,-1147.0017 2636.5678,-1141.6934 2604.7778,-1133.8898 2578.625,-1126.9313"/>
<polygon fill="#000000" stroke="#000000" points="2579.4615,-1123.5319 2568.8955,-1124.3127 2577.6422,-1130.2914 2579.4615,-1123.5319"/>
</g>
<!-- prose_51 -->
<g id="node52" class="node">
<title>prose_51</title>
<ellipse fill="none" stroke="#000000" cx="2706.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2706.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_45&#45;&gt;prose_51 -->
<g id="edge51" class="edge">
<title>section_45&#45;&gt;prose_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3058.4135,-1196.1784C2987.8657,-1189.8381 2875.0434,-1175.9138 2781.5,-1147.0017 2766.7547,-1142.4443 2751.2302,-1135.458 2738.1551,-1128.8701"/>
<polygon fill="#000000" stroke="#000000" points="2739.6024,-1125.6781 2729.1134,-1124.184 2736.3813,-1131.893 2739.6024,-1125.6781"/>
</g>
<!-- prose_52 -->
<g id="node53" class="node">
<title>prose_52</title>
<ellipse fill="none" stroke="#000000" cx="2822.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2822.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_45&#45;&gt;prose_52 -->
<g id="edge52" class="edge">
<title>section_45&#45;&gt;prose_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3063.4062,-1192.9032C3012.9055,-1185.0582 2940.9465,-1170.783 2881.5,-1147.0017 2871.0547,-1142.8231 2860.3281,-1136.902 2850.9341,-1131.0807"/>
<polygon fill="#000000" stroke="#000000" points="2852.6936,-1128.051 2842.3885,-1125.5901 2848.9097,-1133.9402 2852.6936,-1128.051"/>
</g>
<!-- codeblock_53 -->
<g id="node54" class="node">
<title>codeblock_53</title>
<ellipse fill="none" stroke="#000000" cx="2967.5" cy="-1111.3017" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2967.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 55&#45;70</text>
</g>
<!-- section_45&#45;&gt;codeblock_53 -->
<g id="edge53" class="edge">
<title>section_45&#45;&gt;codeblock_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3097.3369,-1184.5494C3071.6117,-1170.0364 3033.9404,-1148.7841 3005.7934,-1132.905"/>
<polygon fill="#000000" stroke="#000000" points="3007.446,-1129.8188 2997.0166,-1127.9535 3004.0065,-1135.9155 3007.446,-1129.8188"/>
</g>
<!-- codeblock_54 -->
<g id="node55" class="node">
<title>codeblock_54</title>
<ellipse fill="none" stroke="#000000" cx="3215.5" cy="-1111.3017" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="3215.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 72&#45;100</text>
</g>
<!-- section_45&#45;&gt;codeblock_54 -->
<g id="edge54" class="edge">
<title>section_45&#45;&gt;codeblock_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3144.0835,-1183.2799C3157.3704,-1169.8885 3175.7854,-1151.3287 3190.5879,-1136.4098"/>
<polygon fill="#000000" stroke="#000000" points="3193.3942,-1138.5506 3197.953,-1128.9867 3188.4251,-1133.6203 3193.3942,-1138.5506"/>
</g>
<!-- section_55 -->
<g id="node56" class="node">
<title>section_55</title>
<ellipse fill="none" stroke="#000000" cx="3700.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="3700.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 102&#45;122</text>
</g>
<!-- section_45&#45;&gt;section_55 -->
<g id="edge55" class="edge">
<title>section_45&#45;&gt;section_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3186.8432,-1191.5718C3292.8769,-1175.0017 3512.2359,-1140.7221 3626.9551,-1122.7947"/>
<polygon fill="#000000" stroke="#000000" points="3627.7105,-1126.2192 3637.0502,-1121.2171 3626.6297,-1119.3031 3627.7105,-1126.2192"/>
</g>
<!-- section_56 -->
<g id="node57" class="node">
<title>section_56</title>
<ellipse fill="none" stroke="#000000" cx="4101.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4101.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 123&#45;145</text>
</g>
<!-- section_45&#45;&gt;section_56 -->
<g id="edge56" class="edge">
<title>section_45&#45;&gt;section_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3194.763,-1196.0837C3314.3445,-1187.3156 3569.457,-1167.9297 3784.5,-1147.0017 3866.3855,-1139.0326 3959.9806,-1128.2909 4024.1222,-1120.6779"/>
<polygon fill="#000000" stroke="#000000" points="4024.641,-1124.1409 4034.1574,-1119.4838 4023.8138,-1117.19 4024.641,-1124.1409"/>
</g>
<!-- section_57 -->
<g id="node58" class="node">
<title>section_57</title>
<ellipse fill="none" stroke="#000000" cx="4743.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4743.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 146&#45;185</text>
</g>
<!-- section_45&#45;&gt;section_57 -->
<g id="edge57" class="edge">
<title>section_45&#45;&gt;section_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3196.2162,-1197.7595C3365.6684,-1189.8107 3812.6368,-1168.4349 4185.5,-1147.0017 4354.2575,-1137.3011 4551.6109,-1124.2796 4660.5772,-1116.9433"/>
<polygon fill="#000000" stroke="#000000" points="4661.1006,-1120.4161 4670.8425,-1116.2514 4660.6297,-1113.4319 4661.1006,-1120.4161"/>
</g>
<!-- section_58 -->
<g id="node59" class="node">
<title>section_58</title>
<ellipse fill="none" stroke="#000000" cx="5503.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5503.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 186&#45;204</text>
</g>
<!-- section_45&#45;&gt;section_58 -->
<g id="edge58" class="edge">
<title>section_45&#45;&gt;section_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3197.0034,-1199.2948C3429.7859,-1193.5454 4195.0391,-1173.7382 4827.5,-1147.0017 5040.9996,-1137.9763 5292.2387,-1123.7622 5419.9045,-1116.283"/>
<polygon fill="#000000" stroke="#000000" points="5420.2237,-1119.7704 5430.0014,-1115.6904 5419.8135,-1112.7824 5420.2237,-1119.7704"/>
</g>
<!-- header_94 -->
<g id="node95" class="node">
<title>header_94</title>
<ellipse fill="none" stroke="#000000" cx="5988.5" cy="-1111.3017" rx="61.9256" ry="18"/>
<text text-anchor="middle" x="5988.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Collectors</text>
</g>
<!-- section_46&#45;&gt;header_94 -->
<g id="edge94" class="edge">
<title>section_46&#45;&gt;header_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6078.9053,-1183.7067C6061.4405,-1169.7192 6036.6863,-1149.8938 6017.4953,-1134.5238"/>
<polygon fill="#000000" stroke="#000000" points="6019.6418,-1131.7588 6009.6486,-1128.2395 6015.266,-1137.2226 6019.6418,-1131.7588"/>
</g>
<!-- prose_95 -->
<g id="node96" class="node">
<title>prose_95</title>
<ellipse fill="none" stroke="#000000" cx="6100.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6100.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_95 -->
<g id="edge95" class="edge">
<title>section_46&#45;&gt;prose_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6100.5,-1182.8496C6100.5,-1170.4482 6100.5,-1153.765 6100.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="6104.0001,-1139.4268 6100.5,-1129.4268 6097.0001,-1139.4269 6104.0001,-1139.4268"/>
</g>
<!-- prose_96 -->
<g id="node97" class="node">
<title>prose_96</title>
<ellipse fill="none" stroke="#000000" cx="6182.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6182.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_96 -->
<g id="edge96" class="edge">
<title>section_46&#45;&gt;prose_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6116.7006,-1183.2799C6129.3399,-1169.4537 6147.0157,-1150.118 6160.8648,-1134.9685"/>
<polygon fill="#000000" stroke="#000000" points="6163.5473,-1137.2215 6167.7113,-1127.4792 6158.3808,-1132.4984 6163.5473,-1137.2215"/>
</g>
<!-- codeblock_97 -->
<g id="node98" class="node">
<title>codeblock_97</title>
<ellipse fill="none" stroke="#000000" cx="6335.5" cy="-1111.3017" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6335.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 212&#45;221</text>
</g>
<!-- section_46&#45;&gt;codeblock_97 -->
<g id="edge97" class="edge">
<title>section_46&#45;&gt;codeblock_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6140.6309,-1185.6837C6180.3619,-1170.5183 6241.3383,-1147.2434 6284.4859,-1130.7739"/>
<polygon fill="#000000" stroke="#000000" points="6285.8584,-1133.9964 6293.9528,-1127.1604 6283.3621,-1127.4566 6285.8584,-1133.9964"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="2352.5,-854.5013 2298.5,-854.5013 2298.5,-814.5013 2352.5,-814.5013 2352.5,-854.5013"/>
</g>
<!-- raw_48&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>raw_48&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2333.9095,-1093.1401C2332.3958,-1046.5872 2328.3648,-922.611 2326.4876,-864.8746"/>
<polygon fill="#000000" stroke="#000000" points="2329.9759,-864.4562 2326.1527,-854.5753 2322.9796,-864.6837 2329.9759,-864.4562"/>
</g>
<!-- leaf_59 -->
<g id="node60" class="node">
<title>leaf_59</title>
<polygon fill="none" stroke="#c0c0c0" points="2492,-852.5013 2371,-852.5013 2371,-816.5013 2492,-816.5013 2492,-852.5013"/>
<text text-anchor="middle" x="2431.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Visualizers</text>
</g>
<!-- header_50&#45;&gt;leaf_59 -->
<g id="edge59" class="edge">
<title>header_50&#45;&gt;leaf_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2517.4636,-1093.1401C2501.7705,-1045.9242 2459.6062,-919.0644 2440.7889,-862.4487"/>
<polygon fill="#000000" stroke="#000000" points="2444.0341,-861.1155 2437.5586,-852.7298 2437.3914,-863.3234 2444.0341,-861.1155"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="2537.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="2537.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_51&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_51&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2677.0683,-1103.6939C2646.1764,-1094.102 2598.6731,-1074.4881 2573.5,-1039.6017 2535.0662,-986.3377 2533.0532,-905.3719 2535.1233,-862.8526"/>
<polygon fill="#000000" stroke="#000000" points="2538.6292,-862.8584 2535.7354,-852.6665 2531.6418,-862.4385 2538.6292,-862.8584"/>
</g>
<!-- raw_62 -->
<g id="node63" class="node">
<title>raw_62</title>
<ellipse fill="none" stroke="#000000" cx="2609.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="2609.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_52&#45;&gt;raw_62 -->
<g id="edge62" class="edge">
<title>prose_52&#45;&gt;raw_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2798.4708,-1099.0722C2783.8963,-1091.8541 2764.8265,-1082.7599 2747.5,-1075.6017 2703.0685,-1057.2455 2676.5667,-1076.2892 2645.5,-1039.6017 2602.7486,-989.1154 2602.7213,-906.008 2606.1827,-862.7118"/>
<polygon fill="#000000" stroke="#000000" points="2609.6815,-862.8852 2607.114,-852.6062 2602.711,-862.2428 2609.6815,-862.8852"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="3140,-946.1021 2655,-946.1021 2655,-722.9005 3140,-722.9005 3140,-946.1021"/>
<text text-anchor="middle" x="2897.5" y="-931.1015" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toString(node, depth)</text>
<text text-anchor="middle" x="2897.5" y="-915.7015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local depth = depth or 0</text>
<text text-anchor="middle" x="2897.5" y="-900.3015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local phrase = &quot;&quot;</text>
<text text-anchor="middle" x="2897.5" y="-884.9015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;phrase = (&quot; &#160;&quot;):rep(depth) .. &quot;id: &quot; .. node.id .. &quot;, &#160;&quot;</text>
<text text-anchor="middle" x="2897.5" y="-869.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;.. &quot;first: &quot; .. node.first .. &quot;, last: &quot; .. node.last .. &quot;\n&quot;</text>
<text text-anchor="middle" x="2897.5" y="-854.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if node[1] then</text>
<text text-anchor="middle" x="2897.5" y="-838.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _,v in ipairs(node) do</text>
<text text-anchor="middle" x="2897.5" y="-823.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if(v.isNode) then</text>
<text text-anchor="middle" x="2897.5" y="-807.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;phrase = phrase .. N.toString(v, depth + 1)</text>
<text text-anchor="middle" x="2897.5" y="-792.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2897.5" y="-777.1012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2897.5" y="-761.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end </text>
<text text-anchor="middle" x="2897.5" y="-746.3012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return phrase</text>
<text text-anchor="middle" x="2897.5" y="-730.9011" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_53&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>codeblock_53&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2962.9071,-1093.1401C2955.8202,-1065.1163 2941.6381,-1009.0361 2928.2861,-956.2386"/>
<polygon fill="#000000" stroke="#000000" points="2931.6495,-955.2625 2925.8046,-946.4258 2924.8632,-956.9788 2931.6495,-955.2625"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="3552.5,-1039.7021 3158.5,-1039.7021 3158.5,-629.3006 3552.5,-629.3006 3552.5,-1039.7021"/>
<text text-anchor="middle" x="3355.5" y="-1024.4017" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.dotLabel(node)</text>
<text text-anchor="middle" x="3355.5" y="-1009.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return node.id</text>
<text text-anchor="middle" x="3355.5" y="-993.6016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3355.5" y="-962.2016" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toMarkdown(node)</text>
<text text-anchor="middle" x="3355.5" y="-946.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if not node[1] then</text>
<text text-anchor="middle" x="3355.5" y="-931.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return string.sub(node.str, node.first, node.last)</text>
<text text-anchor="middle" x="3355.5" y="-916.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="3355.5" y="-900.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:halt(&quot;no toMarkdown for &quot; .. node.id)</text>
<text text-anchor="middle" x="3355.5" y="-885.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3355.5" y="-869.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3355.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.dot(node)</text>
<text text-anchor="middle" x="3355.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return dot.dot(node)</text>
<text text-anchor="middle" x="3355.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="3355.5" y="-776.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.toValue(node)</text>
<text text-anchor="middle" x="3355.5" y="-760.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if node.__VALUE then</text>
<text text-anchor="middle" x="3355.5" y="-745.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return node.__VALUE</text>
<text text-anchor="middle" x="3355.5" y="-730.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3355.5" y="-714.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;if node.str then</text>
<text text-anchor="middle" x="3355.5" y="-699.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return node.str:sub(node.first,node.last)</text>
<text text-anchor="middle" x="3355.5" y="-683.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;else</text>
<text text-anchor="middle" x="3355.5" y="-668.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;s:halt(&quot;no str on node &quot; .. node.id)</text>
<text text-anchor="middle" x="3355.5" y="-653.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="3355.5" y="-637.601" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_54&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>codeblock_54&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3224.6858,-1093.1401C3230.2795,-1082.0804 3238.0834,-1066.651 3247.1232,-1048.7781"/>
<polygon fill="#000000" stroke="#000000" points="3250.2657,-1050.3196 3251.6559,-1039.8163 3244.0192,-1047.1602 3250.2657,-1050.3196"/>
</g>
<!-- header_66 -->
<g id="node67" class="node">
<title>header_66</title>
<ellipse fill="none" stroke="#000000" cx="3640.5" cy="-834.5013" rx="70.1446" ry="18"/>
<text text-anchor="middle" x="3640.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.walkDeep</text>
</g>
<!-- section_55&#45;&gt;header_66 -->
<g id="edge66" class="edge">
<title>section_55&#45;&gt;header_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3696.5632,-1093.1401C3686.3498,-1046.0222 3658.9441,-919.5904 3646.6345,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="3649.9903,-861.7614 3644.4513,-852.7298 3643.1492,-863.2444 3649.9903,-861.7614"/>
</g>
<!-- prose_67 -->
<g id="node68" class="node">
<title>prose_67</title>
<ellipse fill="none" stroke="#000000" cx="3760.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3760.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_55&#45;&gt;prose_67 -->
<g id="edge67" class="edge">
<title>section_55&#45;&gt;prose_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3705.6537,-1093.1079C3709.6654,-1078.6611 3715.2472,-1057.9156 3719.5,-1039.6017 3734.1339,-976.5828 3748.2573,-901.9392 3755.4927,-862.375"/>
<polygon fill="#000000" stroke="#000000" points="3758.9585,-862.8783 3757.3042,-852.4134 3752.0715,-861.6258 3758.9585,-862.8783"/>
</g>
<!-- codeblock_68 -->
<g id="node69" class="node">
<title>codeblock_68</title>
<ellipse fill="none" stroke="#000000" cx="3898.5" cy="-834.5013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="3898.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 106&#45;121</text>
</g>
<!-- section_55&#45;&gt;codeblock_68 -->
<g id="edge68" class="edge">
<title>section_55&#45;&gt;codeblock_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3732.0068,-1094.69C3753.7674,-1081.9543 3782.1606,-1062.6739 3801.5,-1039.6017 3847.4528,-984.7793 3877.0234,-904.5204 3890.3288,-862.5051"/>
<polygon fill="#000000" stroke="#000000" points="3893.7546,-863.2735 3893.3612,-852.6859 3887.0662,-861.2079 3893.7546,-863.2735"/>
</g>
<!-- header_73 -->
<g id="node74" class="node">
<title>header_73</title>
<ellipse fill="none" stroke="#000000" cx="4052.5" cy="-834.5013" rx="48.8618" ry="18"/>
<text text-anchor="middle" x="4052.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.walk</text>
</g>
<!-- section_56&#45;&gt;header_73 -->
<g id="edge73" class="edge">
<title>section_56&#45;&gt;header_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4098.285,-1093.1401C4089.944,-1046.0222 4067.5627,-919.5904 4057.5099,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="4060.9165,-861.9666 4055.7269,-852.7298 4054.0237,-863.1869 4060.9165,-861.9666"/>
</g>
<!-- prose_74 -->
<g id="node75" class="node">
<title>prose_74</title>
<ellipse fill="none" stroke="#000000" cx="4151.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4151.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_56&#45;&gt;prose_74 -->
<g id="edge74" class="edge">
<title>section_56&#45;&gt;prose_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4104.7806,-1093.1401C4113.2918,-1046.0222 4136.1299,-919.5904 4146.3879,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="4149.8739,-863.1928 4148.2073,-852.7298 4142.9854,-861.9484 4149.8739,-863.1928"/>
</g>
<!-- codeblock_75 -->
<g id="node76" class="node">
<title>codeblock_75</title>
<ellipse fill="none" stroke="#000000" cx="4337.5" cy="-834.5013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4337.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 127&#45;143</text>
</g>
<!-- section_56&#45;&gt;codeblock_75 -->
<g id="edge75" class="edge">
<title>section_56&#45;&gt;codeblock_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4127.0625,-1094.2C4146.2583,-1080.6674 4172.5586,-1060.6067 4192.5,-1039.6017 4247.2339,-981.9485 4297.5442,-902.3999 4321.9755,-861.3755"/>
<polygon fill="#000000" stroke="#000000" points="4325.1343,-862.9094 4327.2035,-852.5186 4319.1061,-859.3511 4325.1343,-862.9094"/>
</g>
<!-- header_80 -->
<g id="node81" class="node">
<title>header_80</title>
<ellipse fill="none" stroke="#000000" cx="4666.5" cy="-834.5013" rx="102.5369" ry="18"/>
<text text-anchor="middle" x="4666.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.select(node, pred)</text>
</g>
<!-- section_57&#45;&gt;header_80 -->
<g id="edge80" class="edge">
<title>section_57&#45;&gt;header_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4738.4478,-1093.1401C4725.3134,-1045.9242 4690.0237,-919.0644 4674.2744,-862.4487"/>
<polygon fill="#000000" stroke="#000000" points="4677.6229,-861.426 4671.5708,-852.7298 4670.8789,-863.3021 4677.6229,-861.426"/>
</g>
<!-- prose_81 -->
<g id="node82" class="node">
<title>prose_81</title>
<ellipse fill="none" stroke="#000000" cx="4819.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4819.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_57&#45;&gt;prose_81 -->
<g id="edge81" class="edge">
<title>section_57&#45;&gt;prose_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4753.9093,-1093.2843C4761.6981,-1079.106 4772.0731,-1058.6308 4778.5,-1039.6017 4799.2014,-978.3075 4810.9468,-902.9879 4816.1754,-862.8533"/>
<polygon fill="#000000" stroke="#000000" points="4819.6721,-863.0988 4817.4511,-852.7394 4812.7271,-862.2227 4819.6721,-863.0988"/>
</g>
<!-- codeblock_82 -->
<g id="node83" class="node">
<title>codeblock_82</title>
<ellipse fill="none" stroke="#000000" cx="5034.5" cy="-834.5013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5034.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 152&#45;183</text>
</g>
<!-- section_57&#45;&gt;codeblock_82 -->
<g id="edge82" class="edge">
<title>section_57&#45;&gt;codeblock_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4776.1306,-1094.9569C4800.6876,-1081.8207 4834.451,-1061.9247 4860.5,-1039.6017 4925.8771,-983.576 4987.3431,-901.8569 5016.6166,-860.52"/>
<polygon fill="#000000" stroke="#000000" points="5019.4813,-862.5309 5022.3645,-852.3359 5013.7529,-858.5077 5019.4813,-862.5309"/>
</g>
<!-- header_87 -->
<g id="node88" class="node">
<title>header_87</title>
<ellipse fill="none" stroke="#000000" cx="5436.5" cy="-834.5013" rx="82.7165" ry="18"/>
<text text-anchor="middle" x="5436.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : N.tokens(node)</text>
</g>
<!-- section_58&#45;&gt;header_87 -->
<g id="edge87" class="edge">
<title>section_58&#45;&gt;header_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5499.1039,-1093.1401C5487.699,-1046.0222 5457.096,-919.5904 5443.3502,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="5446.6667,-861.6257 5440.9122,-852.7298 5439.8631,-863.2726 5446.6667,-861.6257"/>
</g>
<!-- prose_88 -->
<g id="node89" class="node">
<title>prose_88</title>
<ellipse fill="none" stroke="#000000" cx="5569.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5569.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_58&#45;&gt;prose_88 -->
<g id="edge88" class="edge">
<title>section_58&#45;&gt;prose_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5510.5741,-1093.2487C5516.0142,-1078.8795 5523.4331,-1058.1698 5528.5,-1039.6017 5545.5316,-977.1882 5558.7153,-902.3072 5565.1577,-862.5429"/>
<polygon fill="#000000" stroke="#000000" points="5568.6362,-862.9547 5566.7574,-852.5278 5561.7238,-861.8505 5568.6362,-862.9547"/>
</g>
<!-- codeblock_89 -->
<g id="node90" class="node">
<title>codeblock_89</title>
<ellipse fill="none" stroke="#000000" cx="5759.5" cy="-834.5013" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5759.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 190&#45;202</text>
</g>
<!-- section_58&#45;&gt;codeblock_89 -->
<g id="edge89" class="edge">
<title>section_58&#45;&gt;codeblock_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5534.1741,-1094.6883C5556.7771,-1081.5535 5587.4646,-1061.7802 5610.5,-1039.6017 5668.568,-983.6939 5719.8123,-902.8049 5744.2757,-861.2943"/>
<polygon fill="#000000" stroke="#000000" points="5747.3436,-862.9811 5749.358,-852.5795 5741.2968,-859.4547 5747.3436,-862.9811"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="2622,-385.702 2179,-385.702 2179,-329.899 2622,-329.899 2622,-385.702"/>
<text text-anchor="middle" x="2400.5" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">This gives us a nice, tree&#45;shaped printout of an entire Node.</text>
</g>
<!-- raw_60&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_60&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2535.3186,-816.4352C2530.7346,-780.4209 2518.9748,-697.3076 2500.5,-629.401 2477.2026,-543.7681 2438.4537,-447.0177 2416.6627,-395.2493"/>
<polygon fill="#000000" stroke="#000000" points="2419.7908,-393.6602 2412.6695,-385.8156 2413.3445,-396.3889 2419.7908,-393.6602"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3125,-385.101 2640,-385.101 2640,-330.5001 3125,-330.5001 3125,-385.101"/>
<text text-anchor="middle" x="2882.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">We&#39;re less disciplined than we should be about up&#45;assigning this to</text>
<text text-anchor="middle" x="2882.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">inherited Node classes. </text>
</g>
<!-- raw_62&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>raw_62&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2609.4775,-816.2362C2610.1066,-779.1583 2615.0373,-693.1764 2645.5,-629.401 2692.9326,-530.0982 2787.031,-439.0644 2841.3024,-391.7962"/>
<polygon fill="#000000" stroke="#000000" points="2843.7266,-394.3273 2849.0104,-385.144 2839.1531,-389.0279 2843.7266,-394.3273"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="3464,-375.8005 3343,-375.8005 3343,-339.8005 3464,-339.8005 3464,-375.8005"/>
<text text-anchor="middle" x="3403.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.walkDeep</text>
</g>
<!-- header_66&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>header_66&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3638.3557,-816.2972C3632.807,-777.0203 3614.5026,-683.5098 3561.5,-629.401 3531.9298,-599.2135 3501.8573,-624.7305 3473.5,-593.401 3419.5926,-533.8433 3407.1153,-434.4678 3404.2865,-386.0477"/>
<polygon fill="#000000" stroke="#000000" points="3407.7784,-385.7934 3403.7965,-375.9753 3400.7866,-386.1336 3407.7784,-385.7934"/>
</g>
<!-- raw_70 -->
<g id="node71" class="node">
<title>raw_70</title>
<ellipse fill="none" stroke="#000000" cx="3509.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="3509.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_67&#45;&gt;raw_70 -->
<g id="edge70" class="edge">
<title>prose_67&#45;&gt;raw_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3762.8505,-816.4505C3766.9343,-776.6459 3770.5525,-680.7975 3719.5,-629.401 3663.8468,-573.3727 3599.8593,-650.6854 3545.5,-593.401 3491.5013,-536.4965 3497.7389,-434.6592 3504.6092,-385.6518"/>
<polygon fill="#000000" stroke="#000000" points="3508.0709,-386.1673 3506.1082,-375.7559 3501.1499,-385.1189 3508.0709,-386.1673"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="3962.5,-470.101 3554.5,-470.101 3554.5,-245.5001 3962.5,-245.5001 3962.5,-470.101"/>
<text text-anchor="middle" x="3758.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.walkDeep(node)</text>
<text text-anchor="middle" x="3758.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local function traverse(ast)</text>
<text text-anchor="middle" x="3758.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not ast.isNode then return nil end</text>
<text text-anchor="middle" x="3758.5" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="3758.5" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v.isNode then</text>
<text text-anchor="middle" x="3758.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="3758.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3758.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3758.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="3758.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="3758.5" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="3758.5" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_68&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>codeblock_68&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3893.1828,-816.3962C3877.1997,-761.9736 3828.5839,-596.4368 3794.3704,-479.9395"/>
<polygon fill="#000000" stroke="#000000" points="3797.6962,-478.8428 3791.5201,-470.2343 3790.9799,-480.8153 3797.6962,-478.8428"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="3594.5,-71.0015 3424.5,-71.0015 3424.5,-15.1986 3594.5,-15.1986 3594.5,-71.0015"/>
<text text-anchor="middle" x="3509.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Depth&#45;first iterator. </text>
</g>
<!-- raw_70&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>raw_70&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3509.5,-339.5207C3509.5,-289.4637 3509.5,-149.3734 3509.5,-81.2549"/>
<polygon fill="#000000" stroke="#000000" points="3513.0001,-80.965 3509.5,-70.965 3506.0001,-80.9651 3513.0001,-80.965"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="4074,-375.8005 3981,-375.8005 3981,-339.8005 4074,-339.8005 4074,-375.8005"/>
<text text-anchor="middle" x="4027.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.walk</text>
</g>
<!-- header_73&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>header_73&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4051.5505,-816.3962C4047.749,-743.9091 4033.6097,-474.3014 4028.9788,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="4032.4695,-385.7267 4028.4504,-375.9237 4025.4791,-386.0933 4032.4695,-385.7267"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="4119.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="4119.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_74&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_74&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4150.2846,-816.3962C4145.4187,-743.9091 4127.3205,-474.3014 4121.3929,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="4124.8786,-385.6668 4120.7166,-375.9237 4117.8943,-386.1357 4124.8786,-385.6668"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="4558.5,-470.101 4164.5,-470.101 4164.5,-245.5001 4558.5,-245.5001 4558.5,-470.101"/>
<text text-anchor="middle" x="4361.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.walk(node)</text>
<text text-anchor="middle" x="4361.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local function traverse(ast)</text>
<text text-anchor="middle" x="4361.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if not ast.isNode then return nil end</text>
<text text-anchor="middle" x="4361.5" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="4361.5" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="4361.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v.isNode then</text>
<text text-anchor="middle" x="4361.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="4361.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4361.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="4361.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="4361.5" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="4361.5" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_75&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>codeblock_75&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4338.4115,-816.3962C4341.1487,-762.0282 4349.4689,-596.769 4355.3331,-480.2906"/>
<polygon fill="#000000" stroke="#000000" points="4358.8321,-480.3977 4355.8394,-470.2343 4351.8409,-480.0456 4358.8321,-480.3977"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="4288.5,-71.0015 3950.5,-71.0015 3950.5,-15.1986 4288.5,-15.1986 4288.5,-71.0015"/>
<text text-anchor="middle" x="4119.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Breadth&#45;first iterator. &#160;This is the default. </text>
</g>
<!-- raw_77&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>raw_77&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4119.5,-339.5207C4119.5,-289.4637 4119.5,-149.3734 4119.5,-81.2549"/>
<polygon fill="#000000" stroke="#000000" points="4123.0001,-80.965 4119.5,-70.965 4116.0001,-80.9651 4123.0001,-80.965"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="4768,-375.8005 4577,-375.8005 4577,-339.8005 4768,-339.8005 4768,-375.8005"/>
<text text-anchor="middle" x="4672.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.select(node, pred)</text>
</g>
<!-- header_80&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>header_80&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4666.7279,-816.3962C4667.6402,-743.9091 4671.0337,-474.3014 4672.1451,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="4675.6457,-385.967 4672.2719,-375.9237 4668.6462,-385.8789 4675.6457,-385.967"/>
</g>
<!-- raw_84 -->
<g id="node85" class="node">
<title>raw_84</title>
<ellipse fill="none" stroke="#000000" cx="4813.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="4813.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_84 -->
<g id="edge84" class="edge">
<title>prose_81&#45;&gt;raw_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4819.2721,-816.3962C4818.3598,-743.9091 4814.9663,-474.3014 4813.8549,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="4817.3538,-385.8789 4813.7281,-375.9237 4810.3543,-385.967 4817.3538,-385.8789"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5350.5,-593.5014 4858.5,-593.5014 4858.5,-122.0996 5350.5,-122.0996 5350.5,-593.5014"/>
<text text-anchor="middle" x="5104.5" y="-578.201" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.select(node, pred)</text>
<text text-anchor="middle" x="5104.5" y="-562.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local function qualifies(node, pred)</text>
<text text-anchor="middle" x="5104.5" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if type(pred) == &#39;string&#39; then</text>
<text text-anchor="middle" x="5104.5" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(node) == &#39;table&#39; </text>
<text text-anchor="middle" x="5104.5" y="-516.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;and node.id and node.id == pred then</text>
<text text-anchor="middle" x="5104.5" y="-501.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return true</text>
<text text-anchor="middle" x="5104.5" y="-485.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5104.5" y="-470.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return false</text>
<text text-anchor="middle" x="5104.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5104.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif type(pred) == &#39;function&#39; then</text>
<text text-anchor="middle" x="5104.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return pred(node)</text>
<text text-anchor="middle" x="5104.5" y="-408.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="5104.5" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;s:halt(&quot;cannot select on predicate of type &quot; .. type(pred))</text>
<text text-anchor="middle" x="5104.5" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5104.5" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5104.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local function traverse(ast)</text>
<text text-anchor="middle" x="5104.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; depth first</text>
<text text-anchor="middle" x="5104.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if qualifies(ast, pred) then</text>
<text text-anchor="middle" x="5104.5" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(ast)</text>
<text text-anchor="middle" x="5104.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5104.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if ast.isNode then</text>
<text text-anchor="middle" x="5104.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for _, v in ipairs(ast) do</text>
<text text-anchor="middle" x="5104.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;traverse(v)</text>
<text text-anchor="middle" x="5104.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5104.5" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5104.5" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="5104.5" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="5104.5" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_82&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>codeblock_82&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5037.1586,-816.3962C5042.5505,-779.6773 5055.3699,-692.3772 5068.3937,-603.6848"/>
<polygon fill="#000000" stroke="#000000" points="5071.8688,-604.1094 5069.8589,-593.7069 5064.9431,-603.0923 5071.8688,-604.1094"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="5087.5,-86.3004 4539.5,-86.3004 4539.5,.1003 5087.5,.1003 5087.5,-86.3004"/>
<text text-anchor="middle" x="4813.5" y="-39.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Takes the Node and walks it, yielding the Nodes which match the predicate.</text>
<text text-anchor="middle" x="4813.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">=pred= is either a string, which matches to =id=, or a function, which takes</text>
<text text-anchor="middle" x="4813.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">a Node and returns true or false on some premise. </text>
</g>
<!-- raw_84&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>raw_84&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4813.5,-339.5207C4813.5,-292.9462 4813.5,-168.4298 4813.5,-96.4623"/>
<polygon fill="#000000" stroke="#000000" points="4817.0001,-96.241 4813.5,-86.241 4810.0001,-96.241 4817.0001,-96.241"/>
</g>
<!-- leaf_90 -->
<g id="node91" class="node">
<title>leaf_90</title>
<polygon fill="none" stroke="#c0c0c0" points="5518,-375.8005 5369,-375.8005 5369,-339.8005 5518,-339.8005 5518,-375.8005"/>
<text text-anchor="middle" x="5443.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** N.tokens(node)</text>
</g>
<!-- header_87&#45;&gt;leaf_90 -->
<g id="edge90" class="edge">
<title>header_87&#45;&gt;leaf_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5436.7659,-816.3962C5437.8303,-743.9091 5441.7893,-474.3014 5443.0859,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="5446.5866,-385.9741 5443.2339,-375.9237 5439.5873,-385.8712 5446.5866,-385.9741"/>
</g>
<!-- raw_91 -->
<g id="node92" class="node">
<title>raw_91</title>
<ellipse fill="none" stroke="#000000" cx="5563.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="5563.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_88&#45;&gt;raw_91 -->
<g id="edge91" class="edge">
<title>prose_88&#45;&gt;raw_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5569.2721,-816.3962C5568.3598,-743.9091 5564.9663,-474.3014 5563.8549,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="5567.3538,-385.8789 5563.7281,-375.9237 5560.3543,-385.967 5567.3538,-385.8789"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="6002.5,-446.8008 5608.5,-446.8008 5608.5,-268.8002 6002.5,-268.8002 6002.5,-446.8008"/>
<text text-anchor="middle" x="5805.5" y="-431.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.tokens(node)</text>
<text text-anchor="middle" x="5805.5" y="-416.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local function traverse(ast)</text>
<text text-anchor="middle" x="5805.5" y="-400.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for node in N.walk(ast) do</text>
<text text-anchor="middle" x="5805.5" y="-385.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not node[1] then</text>
<text text-anchor="middle" x="5805.5" y="-370.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;coroutine.yield(node:toValue())</text>
<text text-anchor="middle" x="5805.5" y="-354.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5805.5" y="-339.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="5805.5" y="-323.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="5805.5" y="-292.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return coroutine.wrap(function() traverse(node) end)</text>
<text text-anchor="middle" x="5805.5" y="-277.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">end &#160;</text>
</g>
<!-- codeblock_89&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>codeblock_89&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5761.2471,-816.3962C5766.8522,-758.31 5784.6716,-573.6466 5795.9152,-457.1285"/>
<polygon fill="#000000" stroke="#000000" points="5799.4043,-457.409 5796.8811,-447.119 5792.4367,-456.7366 5799.4043,-457.409"/>
</g>
<!-- leaf_92 -->
<g id="node93" class="node">
<title>leaf_92</title>
<polygon fill="none" stroke="#c0c0c0" points="5760.5,-71.0015 5366.5,-71.0015 5366.5,-15.1986 5760.5,-15.1986 5760.5,-71.0015"/>
<text text-anchor="middle" x="5563.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Iterator returning all &#39;captured&#39; values as strings.</text>
</g>
<!-- raw_91&#45;&gt;leaf_92 -->
<g id="edge92" class="edge">
<title>raw_91&#45;&gt;leaf_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5563.5,-339.5207C5563.5,-289.4637 5563.5,-149.3734 5563.5,-81.2549"/>
<polygon fill="#000000" stroke="#000000" points="5567.0001,-80.965 5563.5,-70.965 5560.0001,-80.9651 5567.0001,-80.965"/>
</g>
<!-- leaf_98 -->
<g id="node99" class="node">
<title>leaf_98</title>
<polygon fill="none" stroke="#c0c0c0" points="6045.5,-852.5013 5931.5,-852.5013 5931.5,-816.5013 6045.5,-816.5013 6045.5,-852.5013"/>
<text text-anchor="middle" x="5988.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Collectors</text>
</g>
<!-- header_94&#45;&gt;leaf_98 -->
<g id="edge98" class="edge">
<title>header_94&#45;&gt;leaf_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5988.5,-1093.1401C5988.5,-1046.0222 5988.5,-919.5904 5988.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="5992.0001,-862.7298 5988.5,-852.7298 5985.0001,-862.7299 5992.0001,-862.7298"/>
</g>
<!-- raw_99 -->
<g id="node100" class="node">
<title>raw_99</title>
<ellipse fill="none" stroke="#000000" cx="6102.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="6102.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_95&#45;&gt;raw_99 -->
<g id="edge99" class="edge">
<title>prose_95&#45;&gt;raw_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6100.6312,-1093.1401C6100.9717,-1046.0222 6101.8852,-919.5904 6102.2955,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="6105.7958,-862.7549 6102.3683,-852.7298 6098.796,-862.7043 6105.7958,-862.7549"/>
</g>
<!-- raw_101 -->
<g id="node102" class="node">
<title>raw_101</title>
<ellipse fill="none" stroke="#000000" cx="6179.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="6179.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_96&#45;&gt;raw_101 -->
<g id="edge101" class="edge">
<title>prose_96&#45;&gt;raw_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6182.3032,-1093.1401C6181.7925,-1046.0222 6180.4222,-919.5904 6179.8067,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="6183.3058,-862.6913 6179.6976,-852.7298 6176.3062,-862.7672 6183.3058,-862.6913"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6472,-900.2017 6225,-900.2017 6225,-768.8009 6472,-768.8009 6472,-900.2017"/>
<text text-anchor="middle" x="6348.5" y="-884.9015" font-family="Inconsolata" font-size="14.00" fill="#000000">function N.gather(node, pred)</text>
<text text-anchor="middle" x="6348.5" y="-869.5014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;local gathered = {}</text>
<text text-anchor="middle" x="6348.5" y="-854.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;for ast in node:select(pred) do</text>
<text text-anchor="middle" x="6348.5" y="-838.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;gathered[#gathered + 1] = ast</text>
<text text-anchor="middle" x="6348.5" y="-823.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;end</text>
<text text-anchor="middle" x="6348.5" y="-807.9013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;</text>
<text text-anchor="middle" x="6348.5" y="-792.5013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;return gathered</text>
<text text-anchor="middle" x="6348.5" y="-777.1012" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_97&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>codeblock_97&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6336.353,-1093.1401C6338.0626,-1056.7388 6341.9954,-972.9992 6344.9258,-910.6054"/>
<polygon fill="#000000" stroke="#000000" points="6348.4322,-910.5486 6345.4053,-900.3953 6341.4399,-910.2201 6348.4322,-910.5486"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="6302.5,-385.702 6020.5,-385.702 6020.5,-329.899 6302.5,-329.899 6302.5,-385.702"/>
<text text-anchor="middle" x="6161.5" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">These return an array of all results. </text>
</g>
<!-- raw_99&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>raw_99&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6104.7408,-816.3962C6113.404,-746.4008 6144.8157,-492.6039 6156.8053,-395.7326"/>
<polygon fill="#000000" stroke="#000000" points="6160.3146,-395.872 6158.0695,-385.5177 6153.3676,-395.0121 6160.3146,-395.872"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="6820,-385.101 6321,-385.101 6321,-330.5001 6820,-330.5001 6820,-385.101"/>
<text text-anchor="middle" x="6570.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; [ ] #todo &#160;Add a Forest class to provide the iterator interface for</text>
<text text-anchor="middle" x="6570.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the return arrays of this class.</text>
</g>
<!-- raw_101&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>raw_101&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6177.1951,-816.4644C6173.264,-777.5167 6169.6612,-684.6148 6215.5,-629.401 6244.6072,-594.3408 6272.6152,-617.1584 6311.5,-593.401 6404.5573,-536.5457 6494.384,-443.6726 6539.807,-393.1856"/>
<polygon fill="#000000" stroke="#000000" points="6542.6577,-395.2482 6546.7095,-385.4587 6537.4373,-390.5847 6542.6577,-395.2482"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="7737,-1129.3017 7602,-1129.3017 7602,-1093.3017 7737,-1093.3017 7737,-1129.3017"/>
<text text-anchor="middle" x="7669.5" y="-1107.8017" font-family="Inconsolata" font-size="14.00" fill="#000000">** Node Instances</text>
</g>
<!-- header_104&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>header_104&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7669.5,-1182.8496C7669.5,-1170.4482 7669.5,-1153.765 7669.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="7673.0001,-1139.4268 7669.5,-1129.4268 7666.0001,-1139.4269 7673.0001,-1139.4268"/>
</g>
<!-- raw_113 -->
<g id="node114" class="node">
<title>raw_113</title>
<ellipse fill="none" stroke="#000000" cx="7793.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="7793.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_105&#45;&gt;raw_113 -->
<g id="edge113" class="edge">
<title>prose_105&#45;&gt;raw_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7801.4764,-1182.8496C7800.0938,-1170.4482 7798.2339,-1153.765 7796.6579,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="7800.1071,-1138.9775 7795.5206,-1129.4268 7793.1502,-1139.7531 7800.1071,-1138.9775"/>
</g>
<!-- raw_115 -->
<g id="node116" class="node">
<title>raw_115</title>
<ellipse fill="none" stroke="#000000" cx="7875.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="7875.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_106&#45;&gt;raw_115 -->
<g id="edge115" class="edge">
<title>prose_106&#45;&gt;raw_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7883.4764,-1182.8496C7882.0938,-1170.4482 7880.2339,-1153.765 7878.6579,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="7882.1071,-1138.9775 7877.5206,-1129.4268 7875.1502,-1139.7531 7882.1071,-1138.9775"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="7957.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="7957.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_107&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_107&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7965.4764,-1182.8496C7964.0938,-1170.4482 7962.2339,-1153.765 7960.6579,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="7964.1071,-1138.9775 7959.5206,-1129.4268 7957.1502,-1139.7531 7964.1071,-1138.9775"/>
</g>
<!-- raw_119 -->
<g id="node120" class="node">
<title>raw_119</title>
<ellipse fill="none" stroke="#000000" cx="8334.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="8334.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_108&#45;&gt;raw_119 -->
<g id="edge119" class="edge">
<title>prose_108&#45;&gt;raw_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8290.1046,-1183.7067C8298.2216,-1170.4685 8309.5449,-1152.0012 8318.7241,-1137.0308"/>
<polygon fill="#000000" stroke="#000000" points="8321.8711,-1138.5941 8324.1145,-1128.2395 8315.9035,-1134.935 8321.8711,-1138.5941"/>
</g>
<!-- raw_121 -->
<g id="node122" class="node">
<title>raw_121</title>
<ellipse fill="none" stroke="#000000" cx="8904.5" cy="-1111.3017" rx="27" ry="18"/>
<text text-anchor="middle" x="8904.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_109&#45;&gt;raw_121 -->
<g id="edge121" class="edge">
<title>prose_109&#45;&gt;raw_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8475.0381,-1195.0468C8556.7954,-1179.1041 8780.3927,-1135.5026 8868.3105,-1118.3586"/>
<polygon fill="#000000" stroke="#000000" points="8869.1957,-1121.752 8878.341,-1116.4027 8867.8559,-1114.8814 8869.1957,-1121.752"/>
</g>
<!-- header_123 -->
<g id="node124" class="node">
<title>header_123</title>
<ellipse fill="none" stroke="#000000" cx="9293.5" cy="-1111.3017" rx="45.9718" ry="18"/>
<text text-anchor="middle" x="9293.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Fields</text>
</g>
<!-- section_110&#45;&gt;header_123 -->
<g id="edge123" class="edge">
<title>section_110&#45;&gt;header_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9460.9412,-1187.7266C9427.9586,-1178.3431 9384.7227,-1164.3615 9348.5,-1147.0017 9340.1463,-1142.9982 9331.546,-1137.9327 9323.7001,-1132.8848"/>
<polygon fill="#000000" stroke="#000000" points="9325.4824,-1129.867 9315.2156,-1127.2507 9321.61,-1135.6984 9325.4824,-1129.867"/>
</g>
<!-- prose_124 -->
<g id="node125" class="node">
<title>prose_124</title>
<ellipse fill="none" stroke="#000000" cx="9389.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9389.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_110&#45;&gt;prose_124 -->
<g id="edge124" class="edge">
<title>section_110&#45;&gt;prose_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9484.911,-1184.1354C9468.6981,-1173.9062 9448.0133,-1160.2983 9430.5,-1147.0017 9424.9443,-1142.7837 9419.1793,-1138.0257 9413.7888,-1133.391"/>
<polygon fill="#000000" stroke="#000000" points="9416.0553,-1130.7235 9406.2272,-1126.7663 9411.4424,-1135.9886 9416.0553,-1130.7235"/>
</g>
<!-- prose_125 -->
<g id="node126" class="node">
<title>prose_125</title>
<ellipse fill="none" stroke="#000000" cx="9471.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9471.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_110&#45;&gt;prose_125 -->
<g id="edge125" class="edge">
<title>section_110&#45;&gt;prose_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9504.203,-1182.8496C9498.3474,-1170.0386 9490.4033,-1152.6584 9483.8111,-1138.236"/>
<polygon fill="#000000" stroke="#000000" points="9486.846,-1136.4563 9479.5056,-1128.8164 9480.4795,-1139.3664 9486.846,-1136.4563"/>
</g>
<!-- prose_126 -->
<g id="node127" class="node">
<title>prose_126</title>
<ellipse fill="none" stroke="#000000" cx="9553.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9553.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_110&#45;&gt;prose_126 -->
<g id="edge126" class="edge">
<title>section_110&#45;&gt;prose_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9520.797,-1182.8496C9526.6526,-1170.0386 9534.5967,-1152.6584 9541.1889,-1138.236"/>
<polygon fill="#000000" stroke="#000000" points="9544.5205,-1139.3664 9545.4944,-1128.8164 9538.154,-1136.4563 9544.5205,-1139.3664"/>
</g>
<!-- prose_127 -->
<g id="node128" class="node">
<title>prose_127</title>
<ellipse fill="none" stroke="#000000" cx="9635.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9635.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_110&#45;&gt;prose_127 -->
<g id="edge127" class="edge">
<title>section_110&#45;&gt;prose_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9540.089,-1184.1354C9556.3019,-1173.9062 9576.9867,-1160.2983 9594.5,-1147.0017 9600.0557,-1142.7837 9605.8207,-1138.0257 9611.2112,-1133.391"/>
<polygon fill="#000000" stroke="#000000" points="9613.5576,-1135.9886 9618.7728,-1126.7663 9608.9447,-1130.7235 9613.5576,-1135.9886"/>
</g>
<!-- prose_128 -->
<g id="node129" class="node">
<title>prose_128</title>
<ellipse fill="none" stroke="#000000" cx="9828.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9828.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_110&#45;&gt;prose_128 -->
<g id="edge128" class="edge">
<title>section_110&#45;&gt;prose_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9561.1825,-1187.1827C9624.0607,-1169.334 9732.2448,-1138.6248 9789.8182,-1122.2819"/>
<polygon fill="#000000" stroke="#000000" points="9790.9563,-1125.5972 9799.6205,-1119.4995 9789.0448,-1118.8633 9790.9563,-1125.5972"/>
</g>
<!-- section_129 -->
<g id="node130" class="node">
<title>section_129</title>
<ellipse fill="none" stroke="#000000" cx="10732.5" cy="-1111.3017" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10732.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 270&#45;282</text>
</g>
<!-- section_110&#45;&gt;section_129 -->
<g id="edge129" class="edge">
<title>section_110&#45;&gt;section_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9584.7118,-1195.6924C9797.9573,-1180.0136 10424.0779,-1133.9783 10650.0087,-1117.3668"/>
<polygon fill="#000000" stroke="#000000" points="10650.423,-1120.8459 10660.1394,-1116.622 10649.9097,-1113.8648 10650.423,-1120.8459"/>
</g>
<!-- header_155 -->
<g id="node156" class="node">
<title>header_155</title>
<ellipse fill="none" stroke="#000000" cx="12595.5" cy="-1111.3017" rx="67.7307" ry="18"/>
<text text-anchor="middle" x="12595.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Other fields</text>
</g>
<!-- section_111&#45;&gt;header_155 -->
<g id="edge155" class="edge">
<title>section_111&#45;&gt;header_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12891.6409,-1193.0692C12832.7333,-1185.0473 12745.6489,-1170.4379 12672.5,-1147.0017 12659.9882,-1142.993 12646.8511,-1137.446 12635.0421,-1131.9185"/>
<polygon fill="#000000" stroke="#000000" points="12636.4226,-1128.6987 12625.8936,-1127.5195 12633.3891,-1135.0073 12636.4226,-1128.6987"/>
</g>
<!-- prose_156 -->
<g id="node157" class="node">
<title>prose_156</title>
<ellipse fill="none" stroke="#000000" cx="12713.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12713.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_111&#45;&gt;prose_156 -->
<g id="edge156" class="edge">
<title>section_111&#45;&gt;prose_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12894.3635,-1191.7107C12852.6128,-1183.8963 12798.2471,-1170.1668 12754.5,-1147.0017 12748.1113,-1143.6187 12741.8753,-1139.0643 12736.2725,-1134.3423"/>
<polygon fill="#000000" stroke="#000000" points="12738.3497,-1131.5033 12728.5729,-1127.421 12733.67,-1136.7091 12738.3497,-1131.5033"/>
</g>
<!-- prose_157 -->
<g id="node158" class="node">
<title>prose_157</title>
<ellipse fill="none" stroke="#000000" cx="12795.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12795.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_111&#45;&gt;prose_157 -->
<g id="edge157" class="edge">
<title>section_111&#45;&gt;prose_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12916.9086,-1185.9898C12892.4614,-1176.4859 12861.7114,-1162.9859 12836.5,-1147.0017 12830.5017,-1143.1987 12824.4871,-1138.5469 12818.9842,-1133.8738"/>
<polygon fill="#000000" stroke="#000000" points="12821.155,-1131.1209 12811.3493,-1127.1083 12816.5125,-1136.36 12821.155,-1131.1209"/>
</g>
<!-- prose_158 -->
<g id="node159" class="node">
<title>prose_158</title>
<ellipse fill="none" stroke="#000000" cx="12877.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12877.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_111&#45;&gt;prose_158 -->
<g id="edge158" class="edge">
<title>section_111&#45;&gt;prose_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12943.2994,-1183.2799C12930.6601,-1169.4537 12912.9843,-1150.118 12899.1352,-1134.9685"/>
<polygon fill="#000000" stroke="#000000" points="12901.6192,-1132.4984 12892.2887,-1127.4792 12896.4527,-1137.2215 12901.6192,-1132.4984"/>
</g>
<!-- prose_159 -->
<g id="node160" class="node">
<title>prose_159</title>
<ellipse fill="none" stroke="#000000" cx="12959.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="12959.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_111&#45;&gt;prose_159 -->
<g id="edge159" class="edge">
<title>section_111&#45;&gt;prose_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12959.5,-1182.8496C12959.5,-1170.4482 12959.5,-1153.765 12959.5,-1139.628"/>
<polygon fill="#000000" stroke="#000000" points="12963.0001,-1139.4268 12959.5,-1129.4268 12956.0001,-1139.4269 12963.0001,-1139.4268"/>
</g>
<!-- prose_160 -->
<g id="node161" class="node">
<title>prose_160</title>
<ellipse fill="none" stroke="#000000" cx="13041.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13041.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_111&#45;&gt;prose_160 -->
<g id="edge160" class="edge">
<title>section_111&#45;&gt;prose_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12975.7006,-1183.2799C12988.3399,-1169.4537 13006.0157,-1150.118 13019.8648,-1134.9685"/>
<polygon fill="#000000" stroke="#000000" points="13022.5473,-1137.2215 13026.7113,-1127.4792 13017.3808,-1132.4984 13022.5473,-1137.2215"/>
</g>
<!-- prose_161 -->
<g id="node162" class="node">
<title>prose_161</title>
<ellipse fill="none" stroke="#000000" cx="13123.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13123.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_111&#45;&gt;prose_161 -->
<g id="edge161" class="edge">
<title>section_111&#45;&gt;prose_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13002.0914,-1185.9898C13026.5386,-1176.4859 13057.2886,-1162.9859 13082.5,-1147.0017 13088.4983,-1143.1987 13094.5129,-1138.5469 13100.0158,-1133.8738"/>
<polygon fill="#000000" stroke="#000000" points="13102.4875,-1136.36 13107.6507,-1127.1083 13097.845,-1131.1209 13102.4875,-1136.36"/>
</g>
<!-- prose_162 -->
<g id="node163" class="node">
<title>prose_162</title>
<ellipse fill="none" stroke="#000000" cx="13205.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13205.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_111&#45;&gt;prose_162 -->
<g id="edge162" class="edge">
<title>section_111&#45;&gt;prose_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13024.6365,-1191.7107C13066.3872,-1183.8963 13120.7529,-1170.1668 13164.5,-1147.0017 13170.8887,-1143.6187 13177.1247,-1139.0643 13182.7275,-1134.3423"/>
<polygon fill="#000000" stroke="#000000" points="13185.33,-1136.7091 13190.4271,-1127.421 13180.6503,-1131.5033 13185.33,-1136.7091"/>
</g>
<!-- prose_163 -->
<g id="node164" class="node">
<title>prose_163</title>
<ellipse fill="none" stroke="#000000" cx="13287.5" cy="-1111.3017" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="13287.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_111&#45;&gt;prose_163 -->
<g id="edge163" class="edge">
<title>section_111&#45;&gt;prose_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13026.2811,-1192.5646C13098.5373,-1182.7129 13208.5156,-1165.4062 13246.5,-1147.0017 13253.1198,-1143.7942 13259.509,-1139.2309 13265.1945,-1134.4345"/>
<polygon fill="#000000" stroke="#000000" points="13267.9196,-1136.6873 13272.9657,-1127.3713 13263.2115,-1131.5072 13267.9196,-1136.6873"/>
</g>
<!-- codeblock_164 -->
<g id="node165" class="node">
<title>codeblock_164</title>
<ellipse fill="none" stroke="#000000" cx="13425.5" cy="-1111.3017" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="13425.5" y="-1107.1017" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 312&#45;314</text>
</g>
<!-- section_111&#45;&gt;codeblock_164 -->
<g id="edge164" class="edge">
<title>section_111&#45;&gt;codeblock_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13030.7541,-1194.9947C13105.7096,-1187.6523 13226.6908,-1172.8876 13328.5,-1147.0017 13344.7744,-1142.8638 13362.112,-1136.9808 13377.5609,-1131.1815"/>
<polygon fill="#000000" stroke="#000000" points="13378.825,-1134.4453 13386.9096,-1127.5977 13376.3194,-1127.9091 13378.825,-1134.4453"/>
</g>
<!-- leaf_114 -->
<g id="node115" class="node">
<title>leaf_114</title>
<polygon fill="none" stroke="#c0c0c0" points="7052.5,-869.8017 6490.5,-869.8017 6490.5,-799.201 7052.5,-799.201 7052.5,-869.8017"/>
<text text-anchor="middle" x="6771.5" y="-822.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;To be a Node, currently, indexed elements of the Array portion must also be </text>
<text text-anchor="middle" x="6771.5" y="-807.3013" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes. </text>
</g>
<!-- raw_113&#45;&gt;leaf_114 -->
<g id="edge114" class="edge">
<title>raw_113&#45;&gt;leaf_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7778.0381,-1096.0991C7769.255,-1088.4819 7757.6147,-1079.9695 7745.5,-1075.6017 7459.1239,-972.3508 7349.0904,-1139.4203 7061.5,-1039.6017 6962.6631,-1005.2968 6867.4613,-926.3814 6814.4854,-877.0506"/>
<polygon fill="#000000" stroke="#000000" points="6816.6637,-874.2948 6806.9802,-869.9958 6811.8694,-879.3952 6816.6637,-874.2948"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="7618.5,-869.7017 7070.5,-869.7017 7070.5,-799.3009 7618.5,-799.3009 7618.5,-869.7017"/>
<text text-anchor="middle" x="7344.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m mostly convinced that indexed elements can also be strings, and that </text>
<text text-anchor="middle" x="7344.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">this is the form leaf nodes should take. &#160;Currently, they have a &#39;val&#39; field</text>
<text text-anchor="middle" x="7344.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">and no children, which we should replace with a child string at [1].</text>
</g>
<!-- raw_115&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>raw_115&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7860.1477,-1096.3142C7851.7457,-1088.9527 7840.7703,-1080.6101 7829.5,-1075.6017 7746.1656,-1038.5688 7711.4314,-1075.2607 7627.5,-1039.6017 7533.8167,-999.7996 7441.3943,-924.0933 7388.8064,-876.6274"/>
<polygon fill="#000000" stroke="#000000" points="7391.0937,-873.9766 7381.3411,-869.8367 7386.3834,-879.1548 7391.0937,-873.9766"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="8170.5,-869.7017 7636.5,-869.7017 7636.5,-799.3009 8170.5,-799.3009 8170.5,-869.7017"/>
<text text-anchor="middle" x="7903.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">This gives us a lighter way to handle the circumstance where we have, say,</text>
<text text-anchor="middle" x="7903.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">a list, =(foo bar baz)=. We currently either need a &quot;left&#45;per&quot; or &quot;pal&quot;</text>
<text text-anchor="middle" x="7903.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">Node class to hold the =(=, or we would have to skip it entirely.</text>
</g>
<!-- raw_117&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_117&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7953.9569,-1093.1401C7945.5997,-1050.3016 7924.4524,-941.902 7912.3541,-879.8869"/>
<polygon fill="#000000" stroke="#000000" points="7915.7716,-879.1251 7910.4215,-869.9803 7908.9011,-880.4655 7915.7716,-879.1251"/>
</g>
<!-- leaf_120 -->
<g id="node121" class="node">
<title>leaf_120</title>
<polygon fill="none" stroke="#c0c0c0" points="8716,-885.0015 8189,-885.0015 8189,-784.0012 8716,-784.0012 8716,-885.0015"/>
<text text-anchor="middle" x="8452.5" y="-853.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">Quipu can&#39;t lose any information from the string, so they have to include</text>
<text text-anchor="middle" x="8452.5" y="-838.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">whitespace. &#160;We&#39;re not limited in the same way and can reconstruct less </text>
<text text-anchor="middle" x="8452.5" y="-823.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">semantically crucial parts of a document using the span and the original </text>
<text text-anchor="middle" x="8452.5" y="-807.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">string, since we&#39;re not /currently/ editing our strings once they&#39;re</text>
<text text-anchor="middle" x="8452.5" y="-792.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">entered in.</text>
</g>
<!-- raw_119&#45;&gt;leaf_120 -->
<g id="edge120" class="edge">
<title>raw_119&#45;&gt;leaf_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8341.8814,-1093.9866C8358.5345,-1054.9224 8399.686,-958.3905 8426.8302,-894.7167"/>
<polygon fill="#000000" stroke="#000000" points="8430.1926,-895.7543 8430.8945,-885.1827 8423.7533,-893.0092 8430.1926,-895.7543"/>
</g>
<!-- leaf_122 -->
<g id="node123" class="node">
<title>leaf_122</title>
<polygon fill="none" stroke="#c0c0c0" points="9240.5,-877.7017 8734.5,-877.7017 8734.5,-791.301 9240.5,-791.301 9240.5,-877.7017"/>
<text text-anchor="middle" x="8987.5" y="-846.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">Nodes are meant to be broadly compatible with everything we intend to</text>
<text text-anchor="middle" x="8987.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">do with abstract syntax trees. &#160;The more I think about this the better</text>
<text text-anchor="middle" x="8987.5" y="-815.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">it strikes me as an approach. </text>
</g>
<!-- raw_121&#45;&gt;leaf_122 -->
<g id="edge122" class="edge">
<title>raw_121&#45;&gt;leaf_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8909.8183,-1093.5655C8922.0617,-1052.7344 8952.6388,-950.7614 8971.5742,-887.6131"/>
<polygon fill="#000000" stroke="#000000" points="8974.9889,-888.4108 8974.5086,-877.8268 8968.2838,-886.4002 8974.9889,-888.4108"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="9344.5,-852.5013 9258.5,-852.5013 9258.5,-816.5013 9344.5,-816.5013 9344.5,-852.5013"/>
<text text-anchor="middle" x="9301.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Fields</text>
</g>
<!-- header_123&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>header_123&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9294.0249,-1093.1401C9295.3867,-1046.0222 9299.0408,-919.5904 9300.6821,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9304.1827,-862.8268 9300.9732,-852.7298 9297.1856,-862.6245 9304.1827,-862.8268"/>
</g>
<!-- raw_131 -->
<g id="node132" class="node">
<title>raw_131</title>
<ellipse fill="none" stroke="#000000" cx="9389.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="9389.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_124&#45;&gt;raw_131 -->
<g id="edge131" class="edge">
<title>prose_124&#45;&gt;raw_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9389.5,-1093.1401C9389.5,-1046.0222 9389.5,-919.5904 9389.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9393.0001,-862.7298 9389.5,-852.7298 9386.0001,-862.7299 9393.0001,-862.7298"/>
</g>
<!-- raw_133 -->
<g id="node134" class="node">
<title>raw_133</title>
<ellipse fill="none" stroke="#000000" cx="9466.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="9466.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_125&#45;&gt;raw_133 -->
<g id="edge133" class="edge">
<title>prose_125&#45;&gt;raw_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9471.1719,-1093.1401C9470.3208,-1046.0222 9468.037,-919.5904 9467.0112,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9470.5094,-862.665 9466.8293,-852.7298 9463.5105,-862.7915 9470.5094,-862.665"/>
</g>
<!-- raw_135 -->
<g id="node136" class="node">
<title>raw_135</title>
<ellipse fill="none" stroke="#000000" cx="9545.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="9545.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_126&#45;&gt;raw_135 -->
<g id="edge135" class="edge">
<title>prose_126&#45;&gt;raw_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9552.9751,-1093.1401C9551.6133,-1046.0222 9547.9592,-919.5904 9546.3179,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9549.8144,-862.6245 9546.0268,-852.7298 9542.8173,-862.8268 9549.8144,-862.6245"/>
</g>
<!-- raw_137 -->
<g id="node138" class="node">
<title>raw_137</title>
<ellipse fill="none" stroke="#000000" cx="9635.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="9635.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_127&#45;&gt;raw_137 -->
<g id="edge137" class="edge">
<title>prose_127&#45;&gt;raw_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9635.5,-1093.1401C9635.5,-1046.0222 9635.5,-919.5904 9635.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="9639.0001,-862.7298 9635.5,-852.7298 9632.0001,-862.7299 9639.0001,-862.7298"/>
</g>
<!-- raw_139 -->
<g id="node140" class="node">
<title>raw_139</title>
<ellipse fill="none" stroke="#000000" cx="10049.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="10049.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_128&#45;&gt;raw_139 -->
<g id="edge139" class="edge">
<title>prose_128&#45;&gt;raw_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9841.6627,-1094.8155C9879.1388,-1047.8771 9986.5294,-913.3714 10030.4405,-858.3732"/>
<polygon fill="#000000" stroke="#000000" points="10033.1789,-860.5529 10036.6831,-850.5544 10027.7085,-856.1854 10033.1789,-860.5529"/>
</g>
<!-- header_141 -->
<g id="node142" class="node">
<title>header_141</title>
<ellipse fill="none" stroke="#000000" cx="10532.5" cy="-834.5013" rx="108.8185" ry="18"/>
<text text-anchor="middle" x="10532.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : line tracking (optional)</text>
</g>
<!-- section_129&#45;&gt;header_141 -->
<g id="edge141" class="edge">
<title>section_129&#45;&gt;header_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10708.7014,-1093.9437C10691.2308,-1080.4288 10667.655,-1060.5062 10650.5,-1039.6017 10603.0923,-981.8321 10563.4754,-902.5971 10544.5161,-861.5754"/>
<polygon fill="#000000" stroke="#000000" points="10547.6989,-860.1194 10540.3612,-852.4769 10541.3315,-863.0272 10547.6989,-860.1194"/>
</g>
<!-- prose_142 -->
<g id="node143" class="node">
<title>prose_142</title>
<ellipse fill="none" stroke="#000000" cx="10691.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10691.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_129&#45;&gt;prose_142 -->
<g id="edge142" class="edge">
<title>section_129&#45;&gt;prose_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10729.8099,-1093.1401C10722.8307,-1046.0222 10704.1035,-919.5904 10695.6919,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="10699.1276,-862.1091 10694.2,-852.7298 10692.2031,-863.1348 10699.1276,-862.1091"/>
</g>
<!-- prose_143 -->
<g id="node144" class="node">
<title>prose_143</title>
<ellipse fill="none" stroke="#000000" cx="10773.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10773.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_129&#45;&gt;prose_143 -->
<g id="edge143" class="edge">
<title>section_129&#45;&gt;prose_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10735.1901,-1093.1401C10742.1693,-1046.0222 10760.8965,-919.5904 10769.3081,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="10772.7969,-863.1348 10770.8,-852.7298 10765.8724,-862.1091 10772.7969,-863.1348"/>
</g>
<!-- prose_144 -->
<g id="node145" class="node">
<title>prose_144</title>
<ellipse fill="none" stroke="#000000" cx="10855.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10855.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_129&#45;&gt;prose_144 -->
<g id="edge144" class="edge">
<title>section_129&#45;&gt;prose_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10759.9748,-1094.3165C10778.2865,-1081.5334 10801.3295,-1062.3501 10814.5,-1039.6017 10847.3186,-982.9164 10854.244,-904.2854 10855.4719,-862.7782"/>
<polygon fill="#000000" stroke="#000000" points="10858.9751,-862.6513 10855.6789,-852.5823 10851.9765,-862.5091 10858.9751,-862.6513"/>
</g>
<!-- prose_145 -->
<g id="node146" class="node">
<title>prose_145</title>
<ellipse fill="none" stroke="#000000" cx="10937.5" cy="-834.5013" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10937.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_129&#45;&gt;prose_145 -->
<g id="edge145" class="edge">
<title>section_129&#45;&gt;prose_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10791.3444,-1099.9556C10826.9993,-1090.0218 10870.4804,-1071.9116 10896.5,-1039.6017 10938.0725,-987.9789 10941.2054,-905.7011 10939.5797,-862.7275"/>
<polygon fill="#000000" stroke="#000000" points="10943.0731,-862.5067 10939.0843,-852.6914 10936.0816,-862.8519 10943.0731,-862.5067"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="8319,-408.4014 7806,-408.4014 7806,-307.1996 8319,-307.1996 8319,-408.4014"/>
<text text-anchor="middle" x="8062.5" y="-361.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;There are invariant fields a Node is also expected to have, they are:</text>
<text text-anchor="middle" x="8062.5" y="-346.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="8062.5" y="-330.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; first : &#160;Index into =str= which begins the span.</text>
<text text-anchor="middle" x="8062.5" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; last &#160;: &#160;Index into =str= which ends the span.</text>
</g>
<!-- raw_131&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>raw_131&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9392.8679,-816.4704C9399.2927,-775.8415 9408.1825,-676.9812 9353.5,-629.401 9267.4456,-554.5235 8433.3946,-635.8078 8327.5,-593.401 8235.8038,-556.6801 8154.9497,-473.4369 8107.3687,-416.4144"/>
<polygon fill="#000000" stroke="#000000" points="8109.9427,-414.0345 8100.8779,-408.5498 8104.5439,-418.4903 8109.9427,-414.0345"/>
</g>
<!-- leaf_134 -->
<g id="node135" class="node">
<title>leaf_134</title>
<polygon fill="none" stroke="#c0c0c0" points="8822,-385.101 8337,-385.101 8337,-330.5001 8822,-330.5001 8822,-385.101"/>
<text text-anchor="middle" x="8579.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">In principle, we want the Node to be localized. We could include a </text>
<text text-anchor="middle" x="8579.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">reference to the whole =str= and derive substrings lazily.</text>
</g>
<!-- raw_133&#45;&gt;leaf_134 -->
<g id="edge134" class="edge">
<title>raw_133&#45;&gt;leaf_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9469.2925,-816.5075C9474.4449,-775.9556 9480.3791,-677.2444 9425.5,-629.401 9375.6598,-585.9504 8892.2419,-619.5241 8831.5,-593.401 8730.7038,-550.0518 8645.1186,-448.0914 8604.593,-393.6065"/>
<polygon fill="#000000" stroke="#000000" points="8607.2215,-391.2727 8598.4803,-385.2859 8601.5802,-395.4171 8607.2215,-391.2727"/>
</g>
<!-- leaf_136 -->
<g id="node137" class="node">
<title>leaf_136</title>
<polygon fill="none" stroke="#c0c0c0" points="9360.5,-393.0009 8840.5,-393.0009 8840.5,-322.6002 9360.5,-322.6002 9360.5,-393.0009"/>
<text text-anchor="middle" x="9100.5" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">If we included the full span as a substring on each Node, we&#39;d end up</text>
<text text-anchor="middle" x="9100.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">with a lot of spans, and wouldn&#39;t use most of them. Even slicing a piece</text>
<text text-anchor="middle" x="9100.5" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">out is costly if we&#39;re not going to use it. </text>
</g>
<!-- raw_135&#45;&gt;leaf_136 -->
<g id="edge136" class="edge">
<title>raw_135&#45;&gt;leaf_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9547.4453,-816.3556C9550.614,-776.781 9552.1969,-682.0504 9502.5,-629.401 9460.4647,-584.8683 9423.4799,-622.3198 9369.5,-593.401 9275.0946,-542.8249 9185.7667,-453.4217 9137.5449,-400.4897"/>
<polygon fill="#000000" stroke="#000000" points="9140.0351,-398.0251 9130.7328,-392.9537 9134.8422,-402.7191 9140.0351,-398.0251"/>
</g>
<!-- leaf_138 -->
<g id="node139" class="node">
<title>leaf_138</title>
<polygon fill="none" stroke="#c0c0c0" points="9892,-400.4016 9379,-400.4016 9379,-315.1995 9892,-315.1995 9892,-400.4016"/>
<text text-anchor="middle" x="9635.5" y="-369.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">So our constructor for a Node class takes (Constructor, node, str) as </text>
<text text-anchor="middle" x="9635.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">the standard interface. &#160;If a module needs a non&#45;standard constructor,</text>
<text text-anchor="middle" x="9635.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">as our Section and Block modules currently take an array of lines, that</text>
<text text-anchor="middle" x="9635.5" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">will need to be provided as the second return from the module. </text>
</g>
<!-- raw_137&#45;&gt;leaf_138 -->
<g id="edge138" class="edge">
<title>raw_137&#45;&gt;leaf_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9635.5,-816.3962C9635.5,-749.7381 9635.5,-516.3874 9635.5,-410.6218"/>
<polygon fill="#000000" stroke="#000000" points="9639.0001,-410.4912 9635.5,-400.4912 9632.0001,-410.4913 9639.0001,-410.4912"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="10409,-393.1009 9910,-393.1009 9910,-322.5002 10409,-322.5002 10409,-393.1009"/>
<text text-anchor="middle" x="10159.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">This will allow for the kind of multi&#45;pass recursive&#45;descent that I&#39;m</text>
<text text-anchor="middle" x="10159.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">aiming for. </text>
</g>
<!-- raw_139&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>raw_139&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10053.6114,-816.6841C10069.2601,-748.8679 10125.4074,-505.5455 10148.9716,-403.427"/>
<polygon fill="#000000" stroke="#000000" points="10152.443,-403.9491 10151.2811,-393.4181 10145.6222,-402.3751 10152.443,-403.9491"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="10646,-375.8005 10427,-375.8005 10427,-339.8005 10646,-339.8005 10646,-375.8005"/>
<text text-anchor="middle" x="10536.5" y="-354.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">**** line tracking (optional)</text>
</g>
<!-- header_141&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>header_141&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10532.6519,-816.3962C10533.2602,-743.9091 10535.5224,-474.3014 10536.2634,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="10539.7638,-385.9528 10536.3479,-375.9237 10532.764,-385.894 10539.7638,-385.9528"/>
</g>
<!-- raw_147 -->
<g id="node148" class="node">
<title>raw_147</title>
<ellipse fill="none" stroke="#000000" cx="10691.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="10691.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_142&#45;&gt;raw_147 -->
<g id="edge147" class="edge">
<title>prose_142&#45;&gt;raw_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10691.5,-816.3962C10691.5,-743.9091 10691.5,-474.3014 10691.5,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="10695.0001,-385.9237 10691.5,-375.9237 10688.0001,-385.9238 10695.0001,-385.9237"/>
</g>
<!-- raw_149 -->
<g id="node150" class="node">
<title>raw_149</title>
<ellipse fill="none" stroke="#000000" cx="10768.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="10768.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_143&#45;&gt;raw_149 -->
<g id="edge149" class="edge">
<title>prose_143&#45;&gt;raw_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10773.3101,-816.3962C10772.5498,-743.9091 10769.7219,-474.3014 10768.7958,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="10772.2949,-385.8864 10768.6901,-375.9237 10765.2953,-385.9599 10772.2949,-385.8864"/>
</g>
<!-- raw_151 -->
<g id="node152" class="node">
<title>raw_151</title>
<ellipse fill="none" stroke="#000000" cx="10860.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="10860.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_144&#45;&gt;raw_151 -->
<g id="edge151" class="edge">
<title>prose_144&#45;&gt;raw_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10855.6899,-816.3962C10856.4502,-743.9091 10859.2781,-474.3014 10860.2042,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="10863.7047,-385.9599 10860.3099,-375.9237 10856.7051,-385.8864 10863.7047,-385.9599"/>
</g>
<!-- raw_153 -->
<g id="node154" class="node">
<title>raw_153</title>
<ellipse fill="none" stroke="#000000" cx="10937.5" cy="-357.8005" rx="27" ry="18"/>
<text text-anchor="middle" x="10937.5" y="-353.6005" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_145&#45;&gt;raw_153 -->
<g id="edge153" class="edge">
<title>prose_145&#45;&gt;raw_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10937.5,-816.3962C10937.5,-743.9091 10937.5,-474.3014 10937.5,-385.9991"/>
<polygon fill="#000000" stroke="#000000" points="10941.0001,-385.9237 10937.5,-375.9237 10934.0001,-385.9238 10941.0001,-385.9237"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="10365.5,-71.0015 9873.5,-71.0015 9873.5,-15.1986 10365.5,-15.1986 10365.5,-71.0015"/>
<text text-anchor="middle" x="10119.5" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">It may be wise to always track lines, in which case we will include:</text>
</g>
<!-- raw_147&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>raw_147&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10695.0355,-339.8761C10702.595,-295.7313 10715.0529,-181.0865 10654.5,-122.2001 10609.5255,-78.4634 10436.5518,-95.4294 10374.5,-86.2001 10346.3936,-82.0197 10316.5992,-77.272 10287.6692,-72.4932"/>
<polygon fill="#000000" stroke="#000000" points="10287.9145,-68.9861 10277.4765,-70.8024 10286.7689,-75.8917 10287.9145,-68.9861"/>
</g>
<!-- leaf_150 -->
<g id="node151" class="node">
<title>leaf_150</title>
<polygon fill="none" stroke="#c0c0c0" points="10763.5,-70.4005 10383.5,-70.4005 10383.5,-15.7996 10763.5,-15.7996 10763.5,-70.4005"/>
<text text-anchor="middle" x="10573.5" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_first : &#160;The line at which the match begins</text>
<text text-anchor="middle" x="10573.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; line_last &#160;: &#160;The line at which the match ends</text>
</g>
<!-- raw_149&#45;&gt;leaf_150 -->
<g id="edge150" class="edge">
<title>raw_149&#45;&gt;leaf_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10770.4309,-339.7914C10773.9945,-297.3883 10777.1998,-189.7527 10727.5,-122.2001 10712.706,-102.0918 10691.3012,-86.7052 10669.1326,-75.0932"/>
<polygon fill="#000000" stroke="#000000" points="10670.4519,-71.8399 10659.9414,-70.506 10667.326,-78.1032 10670.4519,-71.8399"/>
</g>
<!-- leaf_152 -->
<g id="node153" class="node">
<title>leaf_152</title>
<polygon fill="none" stroke="#c0c0c0" points="11337,-70.4005 10782,-70.4005 10782,-15.7996 11337,-15.7996 11337,-70.4005"/>
<text text-anchor="middle" x="11059.5" y="-39.3001" font-family="Inconsolata" font-size="14.00" fill="#000000">This is, at least, a frequent enough pattern that the metatable should return</text>
<text text-anchor="middle" x="11059.5" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">a negative number if these aren&#39;t assigned. </text>
</g>
<!-- raw_151&#45;&gt;leaf_152 -->
<g id="edge152" class="edge">
<title>raw_151&#45;&gt;leaf_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10858.5226,-339.7569C10854.8584,-297.2795 10851.4515,-189.4948 10901.5,-122.2001 10916.6108,-101.8823 10938.4033,-86.4432 10960.9978,-74.8491"/>
<polygon fill="#000000" stroke="#000000" points="10962.5799,-77.9716 10970.0243,-70.4328 10959.5035,-71.6838 10962.5799,-77.9716"/>
</g>
<!-- leaf_154 -->
<g id="node155" class="node">
<title>leaf_154</title>
<polygon fill="none" stroke="#c0c0c0" points="11756,-71.0015 11355,-71.0015 11355,-15.1986 11756,-15.1986 11756,-71.0015"/>
<text text-anchor="middle" x="11555.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; [ ] #todo decide if line tracking is in fact optional</text>
</g>
<!-- raw_153&#45;&gt;leaf_154 -->
<g id="edge154" class="edge">
<title>raw_153&#45;&gt;leaf_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10933.7637,-339.7687C10925.7324,-295.3787 10912.1898,-180.2187 10973.5,-122.2001 11033.8242,-65.1145 11263.3729,-98.5662 11345.5,-86.2001 11370.1928,-82.482 11396.3669,-77.7524 11421.5499,-72.7968"/>
<polygon fill="#000000" stroke="#000000" points="11422.3955,-76.1972 11431.5203,-70.8132 11421.0296,-69.3318 11422.3955,-76.1972"/>
</g>
<!-- leaf_165 -->
<g id="node166" class="node">
<title>leaf_165</title>
<polygon fill="none" stroke="#c0c0c0" points="12659.5,-852.5013 12531.5,-852.5013 12531.5,-816.5013 12659.5,-816.5013 12659.5,-852.5013"/>
<text text-anchor="middle" x="12595.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Other fields</text>
</g>
<!-- header_155&#45;&gt;leaf_165 -->
<g id="edge165" class="edge">
<title>header_155&#45;&gt;leaf_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12595.5,-1093.1401C12595.5,-1046.0222 12595.5,-919.5904 12595.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="12599.0001,-862.7298 12595.5,-852.7298 12592.0001,-862.7299 12599.0001,-862.7298"/>
</g>
<!-- raw_166 -->
<g id="node167" class="node">
<title>raw_166</title>
<ellipse fill="none" stroke="#000000" cx="12708.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="12708.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_156&#45;&gt;raw_166 -->
<g id="edge166" class="edge">
<title>prose_156&#45;&gt;raw_166</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12713.1719,-1093.1401C12712.3208,-1046.0222 12710.037,-919.5904 12709.0112,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="12712.5094,-862.665 12708.8293,-852.7298 12705.5105,-862.7915 12712.5094,-862.665"/>
</g>
<!-- raw_168 -->
<g id="node169" class="node">
<title>raw_168</title>
<ellipse fill="none" stroke="#000000" cx="12787.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="12787.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_157&#45;&gt;raw_168 -->
<g id="edge168" class="edge">
<title>prose_157&#45;&gt;raw_168</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12794.9751,-1093.1401C12793.6133,-1046.0222 12789.9592,-919.5904 12788.3179,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="12791.8144,-862.6245 12788.0268,-852.7298 12784.8173,-862.8268 12791.8144,-862.6245"/>
</g>
<!-- raw_170 -->
<g id="node171" class="node">
<title>raw_170</title>
<ellipse fill="none" stroke="#000000" cx="12868.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="12868.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_158&#45;&gt;raw_170 -->
<g id="edge170" class="edge">
<title>prose_158&#45;&gt;raw_170</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12876.9095,-1093.1401C12875.3775,-1046.0222 12871.2666,-919.5904 12869.4202,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="12872.9159,-862.6108 12869.0927,-852.7298 12865.9196,-862.8383 12872.9159,-862.6108"/>
</g>
<!-- raw_172 -->
<g id="node173" class="node">
<title>raw_172</title>
<ellipse fill="none" stroke="#000000" cx="12959.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="12959.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_159&#45;&gt;raw_172 -->
<g id="edge172" class="edge">
<title>prose_159&#45;&gt;raw_172</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12959.5,-1093.1401C12959.5,-1046.0222 12959.5,-919.5904 12959.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="12963.0001,-862.7298 12959.5,-852.7298 12956.0001,-862.7299 12963.0001,-862.7298"/>
</g>
<!-- raw_174 -->
<g id="node175" class="node">
<title>raw_174</title>
<ellipse fill="none" stroke="#000000" cx="13046.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13046.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_160&#45;&gt;raw_174 -->
<g id="edge174" class="edge">
<title>prose_160&#45;&gt;raw_174</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13041.8281,-1093.1401C13042.6792,-1046.0222 13044.963,-919.5904 13045.9888,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13049.4895,-862.7915 13046.1707,-852.7298 13042.4906,-862.665 13049.4895,-862.7915"/>
</g>
<!-- raw_176 -->
<g id="node177" class="node">
<title>raw_176</title>
<ellipse fill="none" stroke="#000000" cx="13128.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13128.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_161&#45;&gt;raw_176 -->
<g id="edge176" class="edge">
<title>prose_161&#45;&gt;raw_176</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13123.8281,-1093.1401C13124.6792,-1046.0222 13126.963,-919.5904 13127.9888,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13131.4895,-862.7915 13128.1707,-852.7298 13124.4906,-862.665 13131.4895,-862.7915"/>
</g>
<!-- raw_178 -->
<g id="node179" class="node">
<title>raw_178</title>
<ellipse fill="none" stroke="#000000" cx="13238.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13238.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_162&#45;&gt;raw_178 -->
<g id="edge178" class="edge">
<title>prose_162&#45;&gt;raw_178</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13207.6652,-1093.1401C13213.2826,-1046.0222 13228.3557,-919.5904 13235.126,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13238.6183,-863.0739 13236.3268,-852.7298 13231.6675,-862.2452 13238.6183,-863.0739"/>
</g>
<!-- raw_180 -->
<g id="node181" class="node">
<title>raw_180</title>
<ellipse fill="none" stroke="#000000" cx="13327.5" cy="-834.5013" rx="27" ry="18"/>
<text text-anchor="middle" x="13327.5" y="-830.3013" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_163&#45;&gt;raw_180 -->
<g id="edge180" class="edge">
<title>prose_163&#45;&gt;raw_180</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13290.1245,-1093.1401C13296.9334,-1046.0222 13315.2039,-919.5904 13323.4103,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13326.8995,-863.1276 13324.8658,-852.7298 13319.9715,-862.1264 13326.8995,-863.1276"/>
</g>
<!-- leaf_182 -->
<g id="node183" class="node">
<title>leaf_182</title>
<polygon fill="none" stroke="#c0c0c0" points="13461.5,-852.5013 13389.5,-852.5013 13389.5,-816.5013 13461.5,-816.5013 13461.5,-852.5013"/>
<text text-anchor="middle" x="13425.5" y="-831.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">return N</text>
</g>
<!-- codeblock_164&#45;&gt;leaf_182 -->
<g id="edge182" class="edge">
<title>codeblock_164&#45;&gt;leaf_182</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13425.5,-1093.1401C13425.5,-1046.0222 13425.5,-919.5904 13425.5,-862.802"/>
<polygon fill="#000000" stroke="#000000" points="13429.0001,-862.7298 13425.5,-852.7298 13422.0001,-862.7299 13429.0001,-862.7298"/>
</g>
<!-- leaf_167 -->
<g id="node168" class="node">
<title>leaf_167</title>
<polygon fill="none" stroke="#c0c0c0" points="11538,-401.0009 10983,-401.0009 10983,-314.6002 11538,-314.6002 11538,-401.0009"/>
<text text-anchor="middle" x="11260.5" y="-353.7006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;The way the Grammar class will work: each =V&quot;patt&quot;= can have a metatable.</text>
<text text-anchor="middle" x="11260.5" y="-338.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">These are passed in as the second parameter during construction, with the key</text>
<text text-anchor="middle" x="11260.5" y="-322.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">the same name as the rule. </text>
</g>
<!-- raw_166&#45;&gt;leaf_167 -->
<g id="edge167" class="edge">
<title>raw_166&#45;&gt;leaf_167</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12711.4854,-816.409C12717.0538,-775.6528 12723.8916,-676.546 12668.5,-629.401 12573.5999,-548.6293 11664.143,-637.27 11547.5,-593.401 11446.1561,-555.2859 11354.2533,-465.7695 11303.0271,-408.7064"/>
<polygon fill="#000000" stroke="#000000" points="11305.6358,-406.3729 11296.3761,-401.2242 11300.404,-411.0235 11305.6358,-406.3729"/>
</g>
<!-- leaf_169 -->
<g id="node170" class="node">
<title>leaf_169</title>
<polygon fill="none" stroke="#c0c0c0" points="12118.5,-385.101 11556.5,-385.101 11556.5,-330.5001 12118.5,-330.5001 12118.5,-385.101"/>
<text text-anchor="middle" x="11837.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">If a pattern doesn&#39;t have a metatable, it&#39;s given a Node class and consists of</text>
<text text-anchor="middle" x="11837.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">only the above fields, plus an array representing any subrules. </text>
</g>
<!-- raw_168&#45;&gt;leaf_169 -->
<g id="edge169" class="edge">
<title>raw_168&#45;&gt;leaf_169</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12790.1052,-816.4753C12794.8376,-775.8567 12799.7617,-677.0162 12744.5,-629.401 12692.4758,-584.5752 12191.5181,-618.2514 12127.5,-593.401 12016.2599,-550.2201 11915.1485,-447.4463 11867.0471,-393.0186"/>
<polygon fill="#000000" stroke="#000000" points="11869.5586,-390.5737 11860.34,-385.3519 11864.2902,-395.1828 11869.5586,-390.5737"/>
</g>
<!-- leaf_171 -->
<g id="node172" class="node">
<title>leaf_171</title>
<polygon fill="none" stroke="#c0c0c0" points="12656.5,-385.101 12136.5,-385.101 12136.5,-330.5001 12656.5,-330.5001 12656.5,-385.101"/>
<text text-anchor="middle" x="12396.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">If it does, the metatable will have a =__call= method, which expects two</text>
<text text-anchor="middle" x="12396.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">parameters, itself, and the node, which will include the span. </text>
</g>
<!-- raw_170&#45;&gt;leaf_171 -->
<g id="edge171" class="edge">
<title>raw_170&#45;&gt;leaf_171</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12870.3763,-816.4849C12873.4369,-776.7499 12874.7186,-681.0331 12823.5,-629.401 12772.778,-578.2694 12729.6581,-626.1255 12665.5,-593.401 12565.0295,-542.1549 12471.6851,-444.9901 12425.9517,-392.889"/>
<polygon fill="#000000" stroke="#000000" points="12428.4952,-390.4801 12419.2905,-385.2338 12423.2145,-395.0752 12428.4952,-390.4801"/>
</g>
<!-- leaf_173 -->
<g id="node174" class="node">
<title>leaf_173</title>
<polygon fill="none" stroke="#c0c0c0" points="13244,-393.0009 12675,-393.0009 12675,-322.6002 13244,-322.6002 13244,-393.0009"/>
<text text-anchor="middle" x="12959.5" y="-361.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">This will require reattunement of basically every class in the =/grym= folder,</text>
<text text-anchor="middle" x="12959.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">but let&#39;s build the Prose parse first. &#160;I do want the whole shebang in a single</text>
<text text-anchor="middle" x="12959.5" y="-330.9005" font-family="Inconsolata" font-size="14.00" fill="#000000">grammar eventually.</text>
</g>
<!-- raw_172&#45;&gt;leaf_173 -->
<g id="edge173" class="edge">
<title>raw_172&#45;&gt;leaf_173</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12959.5,-816.3962C12959.5,-748.1479 12959.5,-505.1591 12959.5,-403.2744"/>
<polygon fill="#000000" stroke="#000000" points="12963.0001,-403.0016 12959.5,-393.0017 12956.0001,-403.0017 12963.0001,-403.0016"/>
</g>
<!-- leaf_175 -->
<g id="node176" class="node">
<title>leaf_175</title>
<polygon fill="none" stroke="#c0c0c0" points="13810.5,-400.4016 13262.5,-400.4016 13262.5,-315.1995 13810.5,-315.1995 13810.5,-400.4016"/>
<text text-anchor="middle" x="13536.5" y="-369.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">The intention is to allow multiple grammars to coexist peacefully. Currently</text>
<text text-anchor="middle" x="13536.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">the parser is handrolled and we have special case values for everything.</text>
<text text-anchor="middle" x="13536.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">The idea is to stabilize this, so that multi&#45;pass parsing works but in a</text>
<text text-anchor="middle" x="13536.5" y="-323.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">standard way where the Node constructor is a consistent interface. </text>
</g>
<!-- raw_174&#45;&gt;leaf_175 -->
<g id="edge175" class="edge">
<title>raw_174&#45;&gt;leaf_175</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13044.7129,-816.4651C13041.8487,-776.69 13041.0388,-680.8975 13092.5,-629.401 13144.0226,-577.8431 13187.0883,-625.5583 13252.5,-593.401 13347.4921,-546.7015 13438.1703,-462.1394 13490.5321,-408.0432"/>
<polygon fill="#000000" stroke="#000000" points="13493.2598,-410.256 13497.6628,-400.6194 13488.2113,-405.4069 13493.2598,-410.256"/>
</g>
<!-- leaf_177 -->
<g id="node178" class="node">
<title>leaf_177</title>
<polygon fill="none" stroke="#c0c0c0" points="14090,-377.7026 13829,-377.7026 13829,-337.8984 14090,-337.8984 14090,-377.7026"/>
<text text-anchor="middle" x="13959.5" y="-346.3005" font-family="Inconsolata" font-size="14.00" fill="#000000">In the meantime we have things like</text>
</g>
<!-- raw_176&#45;&gt;leaf_177 -->
<g id="edge177" class="edge">
<title>raw_176&#45;&gt;leaf_177</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13128.8373,-816.4722C13130.6851,-775.4007 13141.5346,-674.9259 13202.5,-629.401 13312.5478,-547.2246 13702.157,-664.7738 13819.5,-593.401 13896.6724,-546.4615 13936.3774,-439.5752 13951.7449,-387.4662"/>
<polygon fill="#000000" stroke="#000000" points="13955.1223,-388.3852 13954.4979,-377.8087 13948.3905,-386.4662 13955.1223,-388.3852"/>
</g>
<!-- leaf_179 -->
<g id="node180" class="node">
<title>leaf_179</title>
<polygon fill="none" stroke="#c0c0c0" points="14635,-385.101 14108,-385.101 14108,-330.5001 14635,-330.5001 14635,-385.101"/>
<text text-anchor="middle" x="14371.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; lines : &#160;If this exists, there&#39;s a collection of lines which need to be</text>
<text text-anchor="middle" x="14371.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;joined with =\n= to reconstruct the actual span.</text>
</g>
<!-- raw_178&#45;&gt;leaf_179 -->
<g id="edge179" class="edge">
<title>raw_178&#45;&gt;leaf_179</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13236.8165,-816.3093C13234.1535,-775.3462 13234.2208,-675.8389 13291.5,-629.401 13361.2211,-572.876 14015.0901,-626.5505 14098.5,-593.401 14205.3026,-550.9545 14299.3133,-448.2328 14343.9577,-393.5089"/>
<polygon fill="#000000" stroke="#000000" points="14346.8837,-395.4562 14350.4379,-385.4753 14341.4352,-391.0613 14346.8837,-395.4562"/>
</g>
<!-- leaf_181 -->
<g id="node182" class="node">
<title>leaf_181</title>
<polygon fill="none" stroke="#c0c0c0" points="15201.5,-385.101 14653.5,-385.101 14653.5,-330.5001 15201.5,-330.5001 15201.5,-385.101"/>
<text text-anchor="middle" x="14927.5" y="-354.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;We want to do this the other way, and use the span itself for the</text>
<text text-anchor="middle" x="14927.5" y="-338.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;inner parse. </text>
</g>
<!-- raw_180&#45;&gt;leaf_181 -->
<g id="edge181" class="edge">
<title>raw_180&#45;&gt;leaf_181</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M13325.7641,-816.2441C13322.9924,-775.1458 13322.8492,-675.3767 13380.5,-629.401 13435.3804,-585.6345 14577.8171,-618.1622 14643.5,-593.401 14754.0564,-551.7232 14852.7177,-447.8165 14899.2424,-392.9753"/>
<polygon fill="#000000" stroke="#000000" points="14901.9756,-395.163 14905.7236,-385.2532 14896.6139,-390.6628 14901.9756,-395.163"/>
</g>
</g>
</svg>