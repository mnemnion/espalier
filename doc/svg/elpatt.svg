<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="7173pt" height="830pt"
 viewBox="0.00 0.00 7173.30 829.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 825.6007)">
<title>hierarchy</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-825.6007 7169.2972,-825.6007 7169.2972,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="873" cy="-803.6007" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="873" y="-799.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 106</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="873" cy="-731.6007" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="873" y="-727.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;53</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M873,-785.4321C873,-777.7317 873,-768.5751 873,-760.0174"/>
<polygon fill="#000000" stroke="#000000" points="876.5001,-760.014 873,-750.014 869.5001,-760.0141 876.5001,-760.014"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="265" cy="-659.6007" rx="113.2139" ry="18"/>
<text text-anchor="middle" x="265" y="-655.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Extended Lpeg module</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M816.3468,-724.8918C713.5922,-712.7235 495.2149,-686.863 366.2658,-671.5928"/>
<polygon fill="#000000" stroke="#000000" points="366.3326,-668.0763 355.9904,-670.3759 365.5093,-675.0277 366.3326,-668.0763"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="488" cy="-659.6007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="488" y="-655.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M821.4767,-721.9652C743.9443,-707.4657 598.8712,-680.3351 528.4357,-667.1628"/>
<polygon fill="#000000" stroke="#000000" points="529.0751,-663.7217 518.6021,-665.3237 527.7882,-670.6024 529.0751,-663.7217"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="805" cy="-659.6007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="805" y="-655.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M856.5391,-714.1716C847.7689,-704.8855 836.8547,-693.3292 827.3307,-683.245"/>
<polygon fill="#000000" stroke="#000000" points="829.788,-680.7494 820.3771,-675.8824 824.6989,-685.5558 829.788,-680.7494"/>
</g>
<!-- codeblock_5 -->
<g id="node6" class="node">
<title>codeblock_5</title>
<ellipse fill="none" stroke="#000000" cx="936" cy="-659.6007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="936" y="-655.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 10&#45;16</text>
</g>
<!-- section_1&#45;&gt;codeblock_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;codeblock_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M888.2505,-714.1716C895.8752,-705.4577 905.2489,-694.7449 913.6661,-685.1252"/>
<polygon fill="#000000" stroke="#000000" points="916.5012,-687.2002 920.4522,-677.3696 911.2331,-682.5906 916.5012,-687.2002"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1368" cy="-659.6007" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1368" y="-655.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 18&#45;26</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M927.865,-723.6204C1018.8815,-710.3816 1200.8563,-683.9126 1299.9236,-669.5028"/>
<polygon fill="#000000" stroke="#000000" points="1300.4381,-672.9649 1309.8302,-668.0618 1299.4305,-666.0377 1300.4381,-672.9649"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="4826" cy="-659.6007" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="4826" y="-655.4007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 54&#45;88</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M933.904,-730.4914C1388.3527,-722.2141 4246.2181,-670.1609 4750.1428,-660.9824"/>
<polygon fill="#000000" stroke="#000000" points="4750.2777,-664.4806 4760.2122,-660.799 4750.1501,-657.4818 4750.2777,-664.4806"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="320,-588.5007 150,-588.5007 150,-552.5007 320,-552.5007 320,-588.5007"/>
<text text-anchor="middle" x="235" y="-567.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">* Extended Lpeg module</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M258.9291,-641.57C254.7408,-629.1308 249.0922,-612.3546 244.3349,-598.2253"/>
<polygon fill="#000000" stroke="#000000" points="247.57,-596.865 241.0619,-588.5046 240.9359,-599.0987 247.57,-596.865"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="365" cy="-570.5007" rx="27" ry="18"/>
<text text-anchor="middle" x="365" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M464.5635,-646.909C446.5134,-636.7026 421.2983,-621.4887 401,-605.6007 396.1561,-601.8093 391.2512,-597.4456 386.6858,-593.1119"/>
<polygon fill="#000000" stroke="#000000" points="388.9819,-590.4613 379.3939,-585.9534 384.078,-595.4565 388.9819,-590.4613"/>
</g>
<!-- literal_10 -->
<g id="node11" class="node">
<title>literal_10</title>
<ellipse fill="none" stroke="#000000" cx="441" cy="-570.5007" rx="31.481" ry="18"/>
<text text-anchor="middle" x="441" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_3&#45;&gt;literal_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;literal_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M478.7143,-641.9974C471.9113,-629.1006 462.5625,-611.3776 454.8749,-596.804"/>
<polygon fill="#000000" stroke="#000000" points="457.8679,-594.9761 450.1065,-587.7643 451.6765,-598.2421 457.8679,-594.9761"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="517" cy="-570.5007" rx="27" ry="18"/>
<text text-anchor="middle" x="517" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M493.8686,-641.57C497.9439,-629.049 503.4494,-612.1337 508.0669,-597.9468"/>
<polygon fill="#000000" stroke="#000000" points="511.4722,-598.7928 511.2391,-588.2005 504.8159,-596.6263 511.4722,-598.7928"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="803" cy="-570.5007" rx="27" ry="18"/>
<text text-anchor="middle" x="803" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M804.5953,-641.57C804.3188,-629.2516 803.9468,-612.6799 803.6316,-598.6376"/>
<polygon fill="#000000" stroke="#000000" points="807.1278,-598.4235 803.4041,-588.5046 800.1295,-598.5807 807.1278,-598.4235"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="1032,-605.7011 848,-605.7011 848,-535.3003 1032,-535.3003 1032,-605.7011"/>
<text text-anchor="middle" x="940" y="-590.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;lpeg&quot;</text>
<text text-anchor="middle" x="940" y="-575.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local elpatt = {}</text>
<text text-anchor="middle" x="940" y="-543.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">local P, Cc = L.P, L.Cc</text>
</g>
<!-- codeblock_5&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>codeblock_5&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M936.8095,-641.57C937.1445,-634.107 937.5496,-625.0828 937.9571,-616.0057"/>
<polygon fill="#000000" stroke="#000000" points="941.4625,-615.9623 938.4146,-605.8154 934.4696,-615.6483 941.4625,-615.9623"/>
</g>
<!-- header_18 -->
<g id="node19" class="node">
<title>header_18</title>
<ellipse fill="none" stroke="#000000" cx="1163" cy="-570.5007" rx="113.1967" ry="18"/>
<text text-anchor="middle" x="1163" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Ppt : Codepoint pattern</text>
</g>
<!-- section_6&#45;&gt;header_18 -->
<g id="edge18" class="edge">
<title>section_6&#45;&gt;header_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1332.7592,-644.2839C1299.3416,-629.7595 1248.847,-607.8128 1211.611,-591.6287"/>
<polygon fill="#000000" stroke="#000000" points="1212.5342,-588.2137 1201.9678,-587.4375 1209.7439,-594.6336 1212.5342,-588.2137"/>
</g>
<!-- prose_19 -->
<g id="node20" class="node">
<title>prose_19</title>
<ellipse fill="none" stroke="#000000" cx="1327" cy="-570.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1327" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_19 -->
<g id="edge19" class="edge">
<title>section_6&#45;&gt;prose_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1359.703,-641.57C1353.8854,-628.9274 1346.0064,-611.8048 1339.4397,-597.5343"/>
<polygon fill="#000000" stroke="#000000" points="1342.5045,-595.8218 1335.1447,-588.2005 1336.1455,-598.748 1342.5045,-595.8218"/>
</g>
<!-- prose_20 -->
<g id="node21" class="node">
<title>prose_20</title>
<ellipse fill="none" stroke="#000000" cx="1409" cy="-570.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1409" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_20 -->
<g id="edge20" class="edge">
<title>section_6&#45;&gt;prose_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1376.297,-641.57C1382.1146,-628.9274 1389.9936,-611.8048 1396.5603,-597.5343"/>
<polygon fill="#000000" stroke="#000000" points="1399.8545,-598.748 1400.8553,-588.2005 1393.4955,-595.8218 1399.8545,-598.748"/>
</g>
<!-- prose_21 -->
<g id="node22" class="node">
<title>prose_21</title>
<ellipse fill="none" stroke="#000000" cx="1509" cy="-570.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1509" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_21 -->
<g id="edge21" class="edge">
<title>section_6&#45;&gt;prose_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1394.1906,-643.0505C1418.165,-627.9007 1453.6359,-605.4861 1478.797,-589.5864"/>
<polygon fill="#000000" stroke="#000000" points="1480.9761,-592.3498 1487.56,-584.049 1477.2367,-586.4322 1480.9761,-592.3498"/>
</g>
<!-- section_22 -->
<g id="node23" class="node">
<title>section_22</title>
<ellipse fill="none" stroke="#000000" cx="2005" cy="-570.5007" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2005" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 27&#45;53</text>
</g>
<!-- section_6&#45;&gt;section_22 -->
<g id="edge22" class="edge">
<title>section_6&#45;&gt;section_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1426.5016,-651.4179C1544.487,-634.9147 1810.4204,-597.7174 1936.3719,-580.1"/>
<polygon fill="#000000" stroke="#000000" points="1936.8722,-583.5642 1946.291,-578.7126 1935.9025,-576.6317 1936.8722,-583.5642"/>
</g>
<!-- header_48 -->
<g id="node49" class="node">
<title>header_48</title>
<ellipse fill="none" stroke="#000000" cx="3190" cy="-570.5007" rx="94.802" ry="18"/>
<text text-anchor="middle" x="3190" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : D : Drop a capture</text>
</g>
<!-- section_7&#45;&gt;header_48 -->
<g id="edge48" class="edge">
<title>section_7&#45;&gt;header_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4760.3779,-658.6274C4513.1096,-654.7351 3637.6993,-638.866 3361,-605.6007 3326.6536,-601.4716 3288.9392,-594.0463 3257.6888,-587.0853"/>
<polygon fill="#000000" stroke="#000000" points="3258.3078,-583.6369 3247.7822,-584.8462 3256.7645,-590.4647 3258.3078,-583.6369"/>
</g>
<!-- prose_49 -->
<g id="node50" class="node">
<title>prose_49</title>
<ellipse fill="none" stroke="#000000" cx="3402" cy="-570.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3402" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_49 -->
<g id="edge49" class="edge">
<title>section_7&#45;&gt;prose_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4761.5811,-655.57C4516.6207,-640.2428 3646.7202,-585.8129 3444.3051,-573.1477"/>
<polygon fill="#000000" stroke="#000000" points="3444.2875,-569.6399 3434.0884,-572.5085 3443.8503,-576.6262 3444.2875,-569.6399"/>
</g>
<!-- prose_50 -->
<g id="node51" class="node">
<title>prose_50</title>
<ellipse fill="none" stroke="#000000" cx="4214" cy="-570.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4214" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_50 -->
<g id="edge50" class="edge">
<title>section_7&#45;&gt;prose_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4767.8728,-651.1381C4645.0077,-633.2504 4361.5016,-591.9752 4255.2286,-576.5031"/>
<polygon fill="#000000" stroke="#000000" points="4255.6141,-573.0224 4245.2141,-575.0451 4254.6055,-579.9494 4255.6141,-573.0224"/>
</g>
<!-- prose_51 -->
<g id="node52" class="node">
<title>prose_51</title>
<ellipse fill="none" stroke="#000000" cx="4712" cy="-570.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4712" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_51 -->
<g id="edge51" class="edge">
<title>section_7&#45;&gt;prose_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4804.0197,-642.4214C4785.4504,-627.908 4758.7852,-607.0671 4738.9352,-591.5527"/>
<polygon fill="#000000" stroke="#000000" points="4740.9231,-588.6642 4730.8887,-585.2637 4736.6124,-594.1795 4740.9231,-588.6642"/>
</g>
<!-- prose_52 -->
<g id="node53" class="node">
<title>prose_52</title>
<ellipse fill="none" stroke="#000000" cx="4925" cy="-570.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4925" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_52 -->
<g id="edge52" class="edge">
<title>section_7&#45;&gt;prose_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4845.5592,-641.9974C4861.1525,-627.9634 4883.0955,-608.2148 4899.9697,-593.028"/>
<polygon fill="#000000" stroke="#000000" points="4902.7046,-595.2754 4907.7962,-585.9842 4898.0218,-590.0723 4902.7046,-595.2754"/>
</g>
<!-- prose_53 -->
<g id="node54" class="node">
<title>prose_53</title>
<ellipse fill="none" stroke="#000000" cx="5033" cy="-570.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5033" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_53 -->
<g id="edge53" class="edge">
<title>section_7&#45;&gt;prose_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4866.635,-645.3249C4894.8527,-635.0734 4933.1345,-620.489 4966,-605.6007 4977.6811,-600.3092 4990.2,-593.947 5001.2177,-588.1011"/>
<polygon fill="#000000" stroke="#000000" points="5002.915,-591.1624 5010.0681,-583.3468 4999.6024,-584.9958 5002.915,-591.1624"/>
</g>
<!-- prose_54 -->
<g id="node55" class="node">
<title>prose_54</title>
<ellipse fill="none" stroke="#000000" cx="5167" cy="-570.5007" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5167" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_54 -->
<g id="edge54" class="edge">
<title>section_7&#45;&gt;prose_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4881.7477,-649.8827C4932.4008,-640.4829 5008.9288,-624.8519 5074,-605.6007 5093.3669,-599.8711 5114.4625,-592.0446 5131.6588,-585.2358"/>
<polygon fill="#000000" stroke="#000000" points="5133.315,-588.3424 5141.2906,-581.368 5130.7065,-581.8466 5133.315,-588.3424"/>
</g>
<!-- codeblock_55 -->
<g id="node56" class="node">
<title>codeblock_55</title>
<ellipse fill="none" stroke="#000000" cx="5364" cy="-570.5007" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="5364" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 77&#45;87</text>
</g>
<!-- section_7&#45;&gt;codeblock_55 -->
<g id="edge55" class="edge">
<title>section_7&#45;&gt;codeblock_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4886.7809,-652.5486C4962.3538,-643.4267 5095.1699,-626.2341 5208,-605.6007 5238.7786,-599.9722 5272.6946,-592.496 5301.0192,-585.8901"/>
<polygon fill="#000000" stroke="#000000" points="5301.8561,-589.2889 5310.7904,-583.5943 5300.2549,-582.4744 5301.8561,-589.2889"/>
</g>
<!-- section_56 -->
<g id="node57" class="node">
<title>section_56</title>
<ellipse fill="none" stroke="#000000" cx="6740" cy="-570.5007" rx="70.655" ry="18"/>
<text text-anchor="middle" x="6740" y="-566.3007" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 89&#45;106</text>
</g>
<!-- section_7&#45;&gt;section_56 -->
<g id="edge56" class="edge">
<title>section_7&#45;&gt;section_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4890.7789,-656.5852C5178.9719,-643.1693 6344.3149,-588.9205 6660.5111,-574.201"/>
<polygon fill="#000000" stroke="#000000" points="6660.6827,-577.6969 6670.5091,-573.7356 6660.3571,-570.7045 6660.6827,-577.6969"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="394,-468.8017 0,-468.8017 0,-396.9994 394,-396.9994 394,-468.8017"/>
<text text-anchor="middle" x="197" y="-405.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;This is where we add extended captures a la the old </text>
</g>
<!-- raw_9&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_9&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M349.944,-555.0789C343.6273,-548.8065 336.1093,-541.5921 329,-535.4007 305.1216,-514.6052 277.6134,-492.9124 253.9095,-474.8666"/>
<polygon fill="#000000" stroke="#000000" points="255.7802,-471.8928 245.696,-468.6431 251.5527,-477.472 255.7802,-471.8928"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="466,-450.9006 412,-450.9006 412,-414.9006 466,-414.9006 466,-450.9006"/>
<text text-anchor="middle" x="439" y="-429.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">epeg</text>
</g>
<!-- literal_10&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>literal_10&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M440.7344,-552.2285C440.3967,-528.9947 439.81,-488.6272 439.4135,-461.3488"/>
<polygon fill="#000000" stroke="#000000" points="442.9117,-461.1964 439.2667,-451.2484 435.9125,-461.2982 442.9117,-461.1964"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="549.5,-452.2012 484.5,-452.2012 484.5,-413.6 549.5,-413.6 549.5,-452.2012"/>
<text text-anchor="middle" x="517" y="-437.1006" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
<text text-anchor="middle" x="517" y="-421.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">module.</text>
</g>
<!-- raw_11&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_11&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M517,-552.2285C517,-529.3819 517,-489.9681 517,-462.7235"/>
<polygon fill="#000000" stroke="#000000" points="520.5001,-462.5844 517,-452.5845 513.5001,-462.5845 520.5001,-462.5844"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1046,-460.201 568,-460.201 568,-405.6002 1046,-405.6002 1046,-460.201"/>
<text text-anchor="middle" x="807" y="-429.1006" font-family="Inconsolata" font-size="14.00" fill="#000000">The difference here is that we include lpeg as a metatable __index</text>
<text text-anchor="middle" x="807" y="-413.7006" font-family="Inconsolata" font-size="14.00" fill="#000000">and can therefore use elpeg as L everywhere we currently use lpeg.</text>
</g>
<!-- raw_15&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_15&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M803.5312,-552.2285C804.1353,-531.4471 805.1379,-496.9584 805.9102,-470.389"/>
<polygon fill="#000000" stroke="#000000" points="809.412,-470.375 806.2042,-460.2775 802.415,-470.1715 809.412,-470.375"/>
</g>
<!-- leaf_23 -->
<g id="node24" class="node">
<title>leaf_23</title>
<polygon fill="none" stroke="#c0c0c0" points="1262,-450.9006 1064,-450.9006 1064,-414.9006 1262,-414.9006 1262,-450.9006"/>
<text text-anchor="middle" x="1163" y="-429.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">** Ppt : Codepoint pattern</text>
</g>
<!-- header_18&#45;&gt;leaf_23 -->
<g id="edge23" class="edge">
<title>header_18&#45;&gt;leaf_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1163,-552.2285C1163,-528.9947 1163,-488.6272 1163,-461.3488"/>
<polygon fill="#000000" stroke="#000000" points="1166.5001,-461.2483 1163,-451.2484 1159.5001,-461.2484 1166.5001,-461.2483"/>
</g>
<!-- raw_24 -->
<g id="node25" class="node">
<title>raw_24</title>
<ellipse fill="none" stroke="#000000" cx="1307" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="1307" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_19&#45;&gt;raw_24 -->
<g id="edge24" class="edge">
<title>prose_19&#45;&gt;raw_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1324.3853,-552.5119C1321.0015,-529.2313 1315.0687,-488.413 1311.0872,-461.0203"/>
<polygon fill="#000000" stroke="#000000" points="1314.5174,-460.2864 1309.6153,-450.8938 1307.5901,-461.2933 1314.5174,-460.2864"/>
</g>
<!-- raw_26 -->
<g id="node27" class="node">
<title>raw_26</title>
<ellipse fill="none" stroke="#000000" cx="1379" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="1379" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_20&#45;&gt;raw_26 -->
<g id="edge26" class="edge">
<title>prose_20&#45;&gt;raw_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1405.078,-552.5119C1400.0023,-529.2313 1391.103,-488.413 1385.1307,-461.0203"/>
<polygon fill="#000000" stroke="#000000" points="1388.4729,-459.9187 1382.9229,-450.8938 1381.6335,-461.4099 1388.4729,-459.9187"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1451" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="1451" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_21&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_21&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1501.5363,-552.7936C1491.6176,-529.2624 1473.9987,-487.4632 1462.4074,-459.9638"/>
<polygon fill="#000000" stroke="#000000" points="1465.5445,-458.3951 1458.4351,-450.5397 1459.0941,-461.1141 1465.5445,-458.3951"/>
</g>
<!-- literal_29 -->
<g id="node30" class="node">
<title>literal_29</title>
<ellipse fill="none" stroke="#000000" cx="1527" cy="-432.9006" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1527" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_21&#45;&gt;literal_29 -->
<g id="edge29" class="edge">
<title>prose_21&#45;&gt;literal_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1511.3532,-552.5119C1514.3986,-529.2313 1519.7382,-488.413 1523.3216,-461.0203"/>
<polygon fill="#000000" stroke="#000000" points="1526.8195,-461.2633 1524.6462,-450.8938 1519.8786,-460.3553 1526.8195,-461.2633"/>
</g>
<!-- raw_30 -->
<g id="node31" class="node">
<title>raw_30</title>
<ellipse fill="none" stroke="#000000" cx="1641" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="1641" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_21&#45;&gt;raw_30 -->
<g id="edge30" class="edge">
<title>prose_21&#45;&gt;raw_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1524.4004,-554.4469C1547.774,-530.0818 1592.3072,-483.6592 1619.0605,-455.7708"/>
<polygon fill="#000000" stroke="#000000" points="1621.7055,-458.0695 1626.1025,-448.4301 1616.6541,-453.2235 1621.7055,-458.0695"/>
</g>
<!-- header_34 -->
<g id="node35" class="node">
<title>header_34</title>
<ellipse fill="none" stroke="#000000" cx="1873" cy="-432.9006" rx="81.237" ry="18"/>
<text text-anchor="middle" x="1873" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : num_bytes(str)</text>
</g>
<!-- section_22&#45;&gt;header_34 -->
<g id="edge34" class="edge">
<title>section_22&#45;&gt;header_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1988.2821,-553.0736C1965.2002,-529.0124 1923.4345,-485.4748 1897.0154,-457.9348"/>
<polygon fill="#000000" stroke="#000000" points="1899.4476,-455.4143 1889.9991,-450.6209 1894.3961,-460.2602 1899.4476,-455.4143"/>
</g>
<!-- prose_35 -->
<g id="node36" class="node">
<title>prose_35</title>
<ellipse fill="none" stroke="#000000" cx="2005" cy="-432.9006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2005" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_22&#45;&gt;prose_35 -->
<g id="edge35" class="edge">
<title>section_22&#45;&gt;prose_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2005,-552.2285C2005,-528.9947 2005,-488.6272 2005,-461.3488"/>
<polygon fill="#000000" stroke="#000000" points="2008.5001,-461.2483 2005,-451.2484 2001.5001,-461.2484 2008.5001,-461.2483"/>
</g>
<!-- prose_36 -->
<g id="node37" class="node">
<title>prose_36</title>
<ellipse fill="none" stroke="#000000" cx="2112" cy="-432.9006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2112" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_22&#45;&gt;prose_36 -->
<g id="edge36" class="edge">
<title>section_22&#45;&gt;prose_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2018.7693,-552.7936C2037.5932,-528.5864 2071.4504,-485.0467 2092.7699,-457.6301"/>
<polygon fill="#000000" stroke="#000000" points="2095.5776,-459.7211 2098.9533,-449.6784 2090.0517,-455.4241 2095.5776,-459.7211"/>
</g>
<!-- codeblock_37 -->
<g id="node38" class="node">
<title>codeblock_37</title>
<ellipse fill="none" stroke="#000000" cx="2355" cy="-432.9006" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2355" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 35&#45;51</text>
</g>
<!-- section_22&#45;&gt;codeblock_37 -->
<g id="edge37" class="edge">
<title>section_22&#45;&gt;codeblock_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2042.7887,-555.6443C2106.5189,-530.5892 2235.3112,-479.9554 2305.9321,-452.1913"/>
<polygon fill="#000000" stroke="#000000" points="2307.4721,-455.3467 2315.4981,-448.4305 2304.9109,-448.832 2307.4721,-455.3467"/>
</g>
<!-- leaf_25 -->
<g id="node26" class="node">
<title>leaf_25</title>
<polygon fill="none" stroke="#c0c0c0" points="909,-238.8018 711,-238.8018 711,-182.9988 909,-182.9988 909,-238.8018"/>
<text text-anchor="middle" x="810" y="-191.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">Captures one Unicode point</text>
</g>
<!-- raw_24&#45;&gt;leaf_25 -->
<g id="edge25" class="edge">
<title>raw_24&#45;&gt;leaf_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1302.4199,-414.9841C1297.4316,-399.4037 1287.8207,-377.6173 1271,-366.4005 1139.7941,-278.9069 1058.6905,-401.6487 918,-330.4005 881.1481,-311.738 850.8656,-274.8243 831.8413,-246.9361"/>
<polygon fill="#000000" stroke="#000000" points="834.7528,-244.9936 826.3038,-238.6011 828.9223,-248.8673 834.7528,-244.9936"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1258.5,-230.8023 927.5,-230.8023 927.5,-190.9982 1258.5,-190.9982 1258.5,-230.8023"/>
<text text-anchor="middle" x="1093" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">I actually have no idea how to do this yet...</text>
</g>
<!-- raw_26&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>raw_26&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1372.9471,-415.1052C1367.197,-400.4485 1357.2942,-379.9456 1343,-366.4005 1315.8701,-340.6924 1299.3965,-349.0394 1267,-330.4005 1216.4871,-301.3386 1161.5884,-262.2706 1127.2441,-236.842"/>
<polygon fill="#000000" stroke="#000000" points="1129.0825,-233.8474 1118.9705,-230.6854 1124.9036,-239.4632 1129.0825,-233.8474"/>
</g>
<!-- leaf_31 -->
<g id="node32" class="node">
<title>leaf_31</title>
<polygon fill="none" stroke="#c0c0c0" points="1481.5,-230.8023 1276.5,-230.8023 1276.5,-190.9982 1481.5,-190.9982 1481.5,-230.8023"/>
<text text-anchor="middle" x="1379" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">Looks like byte 97 is just </text>
</g>
<!-- raw_28&#45;&gt;leaf_31 -->
<g id="edge31" class="edge">
<title>raw_28&#45;&gt;leaf_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1445.2296,-415.1086C1432.8564,-376.9576 1403.669,-286.9632 1388.5107,-240.225"/>
<polygon fill="#000000" stroke="#000000" points="1391.8271,-239.1054 1385.4128,-230.673 1385.1686,-241.265 1391.8271,-239.1054"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="1554,-228.9003 1500,-228.9003 1500,-192.9003 1554,-192.9003 1554,-228.9003"/>
<text text-anchor="middle" x="1527" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">\97</text>
</g>
<!-- literal_29&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>literal_29&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1527,-414.7334C1527,-376.098 1527,-285.5357 1527,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="1530.5001,-239.0071 1527,-229.0072 1523.5001,-239.0072 1530.5001,-239.0071"/>
</g>
<!-- leaf_33 -->
<g id="node34" class="node">
<title>leaf_33</title>
<polygon fill="none" stroke="#c0c0c0" points="1784,-230.8023 1572,-230.8023 1572,-190.9982 1784,-190.9982 1784,-230.8023"/>
<text text-anchor="middle" x="1678" y="-215.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> in Lua. That&#39;s easy enough.</text>
</g>
<!-- raw_30&#45;&gt;leaf_33 -->
<g id="edge33" class="edge">
<title>raw_30&#45;&gt;leaf_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1644.0279,-414.7334C1650.3846,-376.593 1665.1755,-287.8474 1672.9768,-241.0396"/>
<polygon fill="#000000" stroke="#000000" points="1676.4736,-241.3478 1674.6653,-230.9085 1669.5689,-240.197 1676.4736,-241.3478"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="1944,-228.9003 1802,-228.9003 1802,-192.9003 1944,-192.9003 1944,-228.9003"/>
<text text-anchor="middle" x="1873" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">*** num_bytes(str)</text>
</g>
<!-- header_34&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>header_34&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1873,-414.7334C1873,-376.098 1873,-285.5357 1873,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="1876.5001,-239.0071 1873,-229.0072 1869.5001,-239.0072 1876.5001,-239.0071"/>
</g>
<!-- raw_39 -->
<g id="node40" class="node">
<title>raw_39</title>
<ellipse fill="none" stroke="#000000" cx="1989" cy="-210.9003" rx="27" ry="18"/>
<text text-anchor="middle" x="1989" y="-206.7003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_35&#45;&gt;raw_39 -->
<g id="edge39" class="edge">
<title>prose_35&#45;&gt;raw_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2003.6907,-414.7334C2000.9061,-376.098 1994.3791,-285.5357 1991.0424,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="1994.5149,-238.7297 1990.305,-229.0072 1987.533,-239.2329 1994.5149,-238.7297"/>
</g>
<!-- raw_41 -->
<g id="node42" class="node">
<title>raw_41</title>
<ellipse fill="none" stroke="#000000" cx="2061" cy="-210.9003" rx="27" ry="18"/>
<text text-anchor="middle" x="2061" y="-206.7003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_41 -->
<g id="edge41" class="edge">
<title>prose_36&#45;&gt;raw_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2107.8265,-414.7334C2098.91,-375.9205 2077.9544,-284.7021 2067.3642,-238.6032"/>
<polygon fill="#000000" stroke="#000000" points="2070.7389,-237.6605 2065.0887,-228.6981 2063.9166,-239.2278 2070.7389,-237.6605"/>
</g>
<!-- literal_42 -->
<g id="node43" class="node">
<title>literal_42</title>
<ellipse fill="none" stroke="#000000" cx="2137" cy="-210.9003" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2137" y="-206.7003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_36&#45;&gt;literal_42 -->
<g id="edge42" class="edge">
<title>prose_36&#45;&gt;literal_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2114.0459,-414.7334C2118.4059,-376.0165 2128.6382,-285.1533 2133.8417,-238.9464"/>
<polygon fill="#000000" stroke="#000000" points="2137.3198,-239.336 2134.9609,-229.0072 2130.3638,-238.5526 2137.3198,-239.336"/>
</g>
<!-- raw_43 -->
<g id="node44" class="node">
<title>raw_43</title>
<ellipse fill="none" stroke="#000000" cx="2213" cy="-210.9003" rx="27" ry="18"/>
<text text-anchor="middle" x="2213" y="-206.7003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_36&#45;&gt;raw_43 -->
<g id="edge43" class="edge">
<title>prose_36&#45;&gt;raw_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2124.543,-416.3046C2138.886,-396.6771 2162.2788,-362.5947 2177,-330.4005 2190.7973,-300.2269 2200.969,-263.3953 2206.916,-238.6659"/>
<polygon fill="#000000" stroke="#000000" points="2210.3394,-239.3971 2209.2043,-228.8633 2203.5226,-237.8058 2210.3394,-239.3971"/>
</g>
<!-- leaf_47 -->
<g id="node48" class="node">
<title>leaf_47</title>
<polygon fill="none" stroke="#c0c0c0" points="2680,-330.4007 2258,-330.4007 2258,-91.3998 2680,-91.3998 2680,-330.4007"/>
<text text-anchor="middle" x="2469" y="-315.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">local function num_bytes(str)</text>
<text text-anchor="middle" x="2469" y="-299.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;returns the number of bytes in the next character in str</text>
<text text-anchor="middle" x="2469" y="-284.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local c = str:byte(1)</text>
<text text-anchor="middle" x="2469" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if type(c) == &#39;number&#39; then</text>
<text text-anchor="middle" x="2469" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if c &gt;= 0x00 and c &lt;= 0x7F then</text>
<text text-anchor="middle" x="2469" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return 1</text>
<text text-anchor="middle" x="2469" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif c &gt;= 0xC2 and c &lt;= 0xDF then</text>
<text text-anchor="middle" x="2469" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return 2</text>
<text text-anchor="middle" x="2469" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif c &gt;= 0xE0 and c &lt;= 0xEF then</text>
<text text-anchor="middle" x="2469" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return 3</text>
<text text-anchor="middle" x="2469" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;elseif c &gt;= 0xF0 and c &lt;= 0xF4 then</text>
<text text-anchor="middle" x="2469" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return 4</text>
<text text-anchor="middle" x="2469" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="2469" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="2469" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_37&#45;&gt;leaf_47 -->
<g id="edge47" class="edge">
<title>codeblock_37&#45;&gt;leaf_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2364.3291,-414.7334C2373.2686,-397.3248 2387.6219,-369.3736 2402.8702,-339.6795"/>
<polygon fill="#000000" stroke="#000000" points="2406.1715,-340.9124 2407.6262,-330.4179 2399.9446,-337.7148 2406.1715,-340.9124"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="1705.5,-55.6015 1248.5,-55.6015 1248.5,.2015 1705.5,.2015 1705.5,-55.6015"/>
<text text-anchor="middle" x="1477" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Captures the number of bytes in the next codepoint of a string.</text>
</g>
<!-- raw_39&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>raw_39&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1989.2278,-192.6885C1988.4885,-166.0395 1982.8535,-116.833 1953,-91.4 1947.9701,-87.1149 1831.1362,-71.446 1714.4918,-56.7222"/>
<polygon fill="#000000" stroke="#000000" points="1714.6552,-53.2152 1704.296,-55.4375 1713.78,-60.1602 1714.6552,-53.2152"/>
</g>
<!-- leaf_44 -->
<g id="node45" class="node">
<title>leaf_44</title>
<polygon fill="none" stroke="#c0c0c0" points="2194.5,-55.0004 1723.5,-55.0004 1723.5,-.3996 2194.5,-.3996 2194.5,-55.0004"/>
<text text-anchor="middle" x="1959" y="-23.9" font-family="Inconsolata" font-size="14.00" fill="#000000">The string must be well&#45;formed utf&#45;8, more precisely, a malformed</text>
<text text-anchor="middle" x="1959" y="-8.5" font-family="Inconsolata" font-size="14.00" fill="#000000">string will return </text>
</g>
<!-- raw_41&#45;&gt;leaf_44 -->
<g id="edge44" class="edge">
<title>raw_41&#45;&gt;leaf_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2058.4697,-192.7213C2054.4302,-168.2284 2044.8633,-123.9534 2025,-91.4 2018.5846,-80.886 2010.0213,-70.9106 2001.1935,-62.108"/>
<polygon fill="#000000" stroke="#000000" points="2003.4057,-59.3809 1993.7573,-55.0037 1998.5701,-64.4423 2003.4057,-59.3809"/>
</g>
<!-- leaf_45 -->
<g id="node46" class="node">
<title>leaf_45</title>
<polygon fill="none" stroke="#c0c0c0" points="2267,-45.7 2213,-45.7 2213,-9.7 2267,-9.7 2267,-45.7"/>
<text text-anchor="middle" x="2240" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">nil</text>
</g>
<!-- literal_42&#45;&gt;leaf_45 -->
<g id="edge45" class="edge">
<title>literal_42&#45;&gt;leaf_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2140.3672,-192.7928C2145.4854,-168.3811 2156.8266,-124.1977 2177,-91.4 2185.8239,-77.0543 2198.4543,-63.448 2210.0926,-52.522"/>
<polygon fill="#000000" stroke="#000000" points="2212.4999,-55.0637 2217.5473,-45.7484 2207.7925,-49.883 2212.4999,-55.0637"/>
</g>
<!-- leaf_46 -->
<g id="node47" class="node">
<title>leaf_46</title>
<polygon fill="none" stroke="#c0c0c0" points="2595,-47.0006 2285,-47.0006 2285,-8.3994 2595,-8.3994 2595,-47.0006"/>
<text text-anchor="middle" x="2440" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;A zero byte is correctly allowed by the</text>
<text text-anchor="middle" x="2440" y="-16.5" font-family="Inconsolata" font-size="14.00" fill="#000000">standard and will match here. </text>
</g>
<!-- raw_43&#45;&gt;leaf_46 -->
<g id="edge46" class="edge">
<title>raw_43&#45;&gt;leaf_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2213.4779,-192.5221C2215.1449,-166.5623 2221.9796,-119.2239 2249,-91.4 2263.6569,-76.3073 2306.7596,-61.3242 2348.3166,-49.6845"/>
<polygon fill="#000000" stroke="#000000" points="2349.2708,-53.0522 2357.9855,-47.0269 2347.4155,-46.3025 2349.2708,-53.0522"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3242.5,-450.9006 3079.5,-450.9006 3079.5,-414.9006 3242.5,-414.9006 3242.5,-450.9006"/>
<text text-anchor="middle" x="3161" y="-429.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">** D : Drop a capture</text>
</g>
<!-- header_48&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>header_48&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3186.2088,-552.5119C3181.3293,-529.3599 3172.7945,-488.8635 3167.0223,-461.4755"/>
<polygon fill="#000000" stroke="#000000" points="3170.3718,-460.3962 3164.8847,-451.333 3163.5223,-461.8399 3170.3718,-460.3962"/>
</g>
<!-- raw_58 -->
<g id="node59" class="node">
<title>raw_58</title>
<ellipse fill="none" stroke="#000000" cx="3288" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="3288" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_49&#45;&gt;raw_58 -->
<g id="edge58" class="edge">
<title>prose_49&#45;&gt;raw_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3382.67,-555.9562C3365.7621,-542.5644 3341.2751,-521.4805 3324,-499.4007 3314.4592,-487.2063 3306.0686,-472.1337 3299.7933,-459.4231"/>
<polygon fill="#000000" stroke="#000000" points="3302.8839,-457.7726 3295.4229,-450.2504 3296.5646,-460.7835 3302.8839,-457.7726"/>
</g>
<!-- literal_59 -->
<g id="node60" class="node">
<title>literal_59</title>
<ellipse fill="none" stroke="#000000" cx="3364" cy="-432.9006" rx="31.481" ry="18"/>
<text text-anchor="middle" x="3364" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_49&#45;&gt;literal_59 -->
<g id="edge59" class="edge">
<title>prose_49&#45;&gt;literal_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3397.0322,-552.5119C3390.5745,-529.1283 3379.2306,-488.0514 3371.6654,-460.6575"/>
<polygon fill="#000000" stroke="#000000" points="3375.0048,-459.6013 3368.9691,-450.8938 3368.2574,-461.4647 3375.0048,-459.6013"/>
</g>
<!-- raw_60 -->
<g id="node61" class="node">
<title>raw_60</title>
<ellipse fill="none" stroke="#000000" cx="3440" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="3440" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_49&#45;&gt;raw_60 -->
<g id="edge60" class="edge">
<title>prose_49&#45;&gt;raw_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3406.9678,-552.5119C3413.4255,-529.1283 3424.7694,-488.0514 3432.3346,-460.6575"/>
<polygon fill="#000000" stroke="#000000" points="3435.7426,-461.4647 3435.0309,-450.8938 3428.9952,-459.6013 3435.7426,-461.4647"/>
</g>
<!-- raw_64 -->
<g id="node65" class="node">
<title>raw_64</title>
<ellipse fill="none" stroke="#000000" cx="4125" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="4125" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_50&#45;&gt;raw_64 -->
<g id="edge64" class="edge">
<title>prose_50&#45;&gt;raw_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4202.908,-553.3518C4187.5017,-529.5325 4159.5054,-486.2483 4141.6035,-458.5707"/>
<polygon fill="#000000" stroke="#000000" points="4144.322,-456.3292 4135.9522,-449.8334 4138.4444,-460.1309 4144.322,-456.3292"/>
</g>
<!-- raw_66 -->
<g id="node67" class="node">
<title>raw_66</title>
<ellipse fill="none" stroke="#000000" cx="4484" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="4484" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_51&#45;&gt;raw_66 -->
<g id="edge66" class="edge">
<title>prose_51&#45;&gt;raw_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4689.7233,-557.0565C4648.1239,-531.9509 4558.6893,-477.9763 4512.6615,-450.198"/>
<polygon fill="#000000" stroke="#000000" points="4514.4318,-447.1785 4504.0617,-445.008 4510.8149,-453.1717 4514.4318,-447.1785"/>
</g>
<!-- literal_67 -->
<g id="node68" class="node">
<title>literal_67</title>
<ellipse fill="none" stroke="#000000" cx="4672" cy="-432.9006" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4672" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_51&#45;&gt;literal_67 -->
<g id="edge67" class="edge">
<title>prose_51&#45;&gt;literal_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4706.7707,-552.5119C4699.9731,-529.1283 4688.0322,-488.0514 4680.0689,-460.6575"/>
<polygon fill="#000000" stroke="#000000" points="4683.383,-459.5193 4677.2306,-450.8938 4676.6612,-461.4733 4683.383,-459.5193"/>
</g>
<!-- raw_68 -->
<g id="node69" class="node">
<title>raw_68</title>
<ellipse fill="none" stroke="#000000" cx="4750" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="4750" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_51&#45;&gt;raw_68 -->
<g id="edge68" class="edge">
<title>prose_51&#45;&gt;raw_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4716.9678,-552.5119C4723.4255,-529.1283 4734.7694,-488.0514 4742.3346,-460.6575"/>
<polygon fill="#000000" stroke="#000000" points="4745.7426,-461.4647 4745.0309,-450.8938 4738.9952,-459.6013 4745.7426,-461.4647"/>
</g>
<!-- raw_72 -->
<g id="node73" class="node">
<title>raw_72</title>
<ellipse fill="none" stroke="#000000" cx="4823" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="4823" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_52&#45;&gt;raw_72 -->
<g id="edge72" class="edge">
<title>prose_52&#45;&gt;raw_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4908.2794,-554.8591C4894.1213,-541.09 4873.8222,-520.0665 4859,-499.4007 4850.037,-486.904 4841.7389,-471.92 4835.3739,-459.3416"/>
<polygon fill="#000000" stroke="#000000" points="4838.4646,-457.6952 4830.9044,-450.2727 4832.1857,-460.7897 4838.4646,-457.6952"/>
</g>
<!-- literal_73 -->
<g id="node74" class="node">
<title>literal_73</title>
<ellipse fill="none" stroke="#000000" cx="4899" cy="-432.9006" rx="31.481" ry="18"/>
<text text-anchor="middle" x="4899" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_52&#45;&gt;literal_73 -->
<g id="edge73" class="edge">
<title>prose_52&#45;&gt;literal_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4921.601,-552.5119C4917.202,-529.2313 4909.4893,-488.413 4904.3133,-461.0203"/>
<polygon fill="#000000" stroke="#000000" points="4907.6958,-460.0701 4902.3999,-450.8938 4900.8175,-461.3698 4907.6958,-460.0701"/>
</g>
<!-- raw_74 -->
<g id="node75" class="node">
<title>raw_74</title>
<ellipse fill="none" stroke="#000000" cx="4975" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="4975" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_52&#45;&gt;raw_74 -->
<g id="edge74" class="edge">
<title>prose_52&#45;&gt;raw_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4931.4343,-552.7936C4939.9848,-529.2624 4955.1735,-487.4632 4965.166,-459.9638"/>
<polygon fill="#000000" stroke="#000000" points="4968.4647,-461.1338 4968.5904,-450.5397 4961.8856,-458.7431 4968.4647,-461.1338"/>
</g>
<!-- literal_75 -->
<g id="node76" class="node">
<title>literal_75</title>
<ellipse fill="none" stroke="#000000" cx="5051" cy="-432.9006" rx="31.481" ry="18"/>
<text text-anchor="middle" x="5051" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_52&#45;&gt;literal_75 -->
<g id="edge75" class="edge">
<title>prose_52&#45;&gt;literal_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4945.8091,-556.4016C4964.3688,-543.1476 4991.5367,-522.0108 5011,-499.4007 5021.4678,-487.2403 5030.853,-472.0022 5037.8974,-459.1817"/>
<polygon fill="#000000" stroke="#000000" points="5040.9879,-460.8245 5042.5951,-450.3523 5034.8081,-457.5365 5040.9879,-460.8245"/>
</g>
<!-- raw_76 -->
<g id="node77" class="node">
<title>raw_76</title>
<ellipse fill="none" stroke="#000000" cx="5127" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="5127" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_52&#45;&gt;raw_76 -->
<g id="edge76" class="edge">
<title>prose_52&#45;&gt;raw_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4947.8809,-557.5407C4960.6574,-550.5527 4976.9834,-542.0288 4992,-535.4007 5034.832,-516.4951 5055.5461,-529.9788 5091,-499.4007 5103.0797,-488.9822 5111.8026,-473.4724 5117.6339,-460.0515"/>
<polygon fill="#000000" stroke="#000000" points="5120.8902,-461.3346 5121.3755,-450.7509 5114.3961,-458.7219 5120.8902,-461.3346"/>
</g>
<!-- raw_82 -->
<g id="node83" class="node">
<title>raw_82</title>
<ellipse fill="none" stroke="#000000" cx="5199" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="5199" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_53&#45;&gt;raw_82 -->
<g id="edge82" class="edge">
<title>prose_53&#45;&gt;raw_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5060.5535,-560.8298C5089.0742,-549.6868 5133.5049,-529.0228 5163,-499.4007 5174.0724,-488.2806 5182.6534,-473.047 5188.6557,-459.9655"/>
<polygon fill="#000000" stroke="#000000" points="5191.9978,-461.054 5192.7416,-450.4853 5185.5694,-458.2834 5191.9978,-461.054"/>
</g>
<!-- raw_84 -->
<g id="node85" class="node">
<title>raw_84</title>
<ellipse fill="none" stroke="#000000" cx="5271" cy="-432.9006" rx="27" ry="18"/>
<text text-anchor="middle" x="5271" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_54&#45;&gt;raw_84 -->
<g id="edge84" class="edge">
<title>prose_54&#45;&gt;raw_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5184.2697,-554.9498C5198.8832,-541.2373 5219.8125,-520.2462 5235,-499.4007 5244.0558,-486.9711 5252.3618,-471.9928 5258.708,-459.4008"/>
<polygon fill="#000000" stroke="#000000" points="5261.9012,-460.8384 5263.159,-450.3185 5255.6154,-457.7579 5261.9012,-460.8384"/>
</g>
<!-- leaf_86 -->
<g id="node87" class="node">
<title>leaf_86</title>
<polygon fill="none" stroke="#c0c0c0" points="5549.5,-499.4007 5316.5,-499.4007 5316.5,-366.4004 5549.5,-366.4004 5549.5,-499.4007"/>
<text text-anchor="middle" x="5433" y="-468.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">local DROP = {}</text>
<text text-anchor="middle" x="5433" y="-436.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">elpatt.DROP = DROP</text>
<text text-anchor="middle" x="5433" y="-405.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">function elpatt.D(patt)</text>
<text text-anchor="middle" x="5433" y="-390.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return (patt / 0) * Cc(DROP)</text>
<text text-anchor="middle" x="5433" y="-374.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_55&#45;&gt;leaf_86 -->
<g id="edge86" class="edge">
<title>codeblock_55&#45;&gt;leaf_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5373.0205,-552.5119C5378.8151,-540.9564 5386.7763,-525.0801 5395.0054,-508.6695"/>
<polygon fill="#000000" stroke="#000000" points="5398.2388,-510.0296 5399.5927,-499.5216 5391.9814,-506.8917 5398.2388,-510.0296"/>
</g>
<!-- header_87 -->
<g id="node88" class="node">
<title>header_87</title>
<ellipse fill="none" stroke="#000000" cx="6608" cy="-432.9006" rx="81.2629" ry="18"/>
<text text-anchor="middle" x="6608" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : S : Capture set</text>
</g>
<!-- section_56&#45;&gt;header_87 -->
<g id="edge87" class="edge">
<title>section_56&#45;&gt;header_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6723.0135,-552.7936C6699.846,-528.6431 6658.2194,-485.2505 6631.9082,-457.8231"/>
<polygon fill="#000000" stroke="#000000" points="6634.3697,-455.3332 6624.9213,-450.5397 6629.3182,-460.1791 6634.3697,-455.3332"/>
</g>
<!-- prose_88 -->
<g id="node89" class="node">
<title>prose_88</title>
<ellipse fill="none" stroke="#000000" cx="6740" cy="-432.9006" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6740" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_56&#45;&gt;prose_88 -->
<g id="edge88" class="edge">
<title>section_56&#45;&gt;prose_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6740,-552.2285C6740,-528.9947 6740,-488.6272 6740,-461.3488"/>
<polygon fill="#000000" stroke="#000000" points="6743.5001,-461.2483 6740,-451.2484 6736.5001,-461.2484 6743.5001,-461.2483"/>
</g>
<!-- codeblock_89 -->
<g id="node90" class="node">
<title>codeblock_89</title>
<ellipse fill="none" stroke="#000000" cx="6883" cy="-432.9006" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="6883" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 91&#45;102</text>
</g>
<!-- section_56&#45;&gt;codeblock_89 -->
<g id="edge89" class="edge">
<title>section_56&#45;&gt;codeblock_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6758.111,-553.0736C6783.2233,-528.9095 6828.7497,-485.1023 6857.3493,-457.5826"/>
<polygon fill="#000000" stroke="#000000" points="6859.8053,-460.0766 6864.5843,-450.6209 6854.9517,-455.0326 6859.8053,-460.0766"/>
</g>
<!-- codeblock_90 -->
<g id="node91" class="node">
<title>codeblock_90</title>
<ellipse fill="none" stroke="#000000" cx="7078" cy="-432.9006" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7078" y="-428.7006" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 104&#45;106</text>
</g>
<!-- section_56&#45;&gt;codeblock_90 -->
<g id="edge90" class="edge">
<title>section_56&#45;&gt;codeblock_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6793.5611,-558.6701C6842.0013,-546.9432 6914.6188,-526.7739 6974,-499.4007 6999.6004,-487.5995 7026.3493,-470.3694 7046.3081,-456.4048"/>
<polygon fill="#000000" stroke="#000000" points="7048.5698,-459.0914 7054.6968,-450.4479 7044.5169,-453.384 7048.5698,-459.0914"/>
</g>
<!-- leaf_61 -->
<g id="node62" class="node">
<title>leaf_61</title>
<polygon fill="none" stroke="#c0c0c0" points="3239.5,-254.1006 2698.5,-254.1006 2698.5,-167.6999 3239.5,-167.6999 3239.5,-254.1006"/>
<text text-anchor="middle" x="2969" y="-206.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;We discourage the use of captures in the Node class. &#160;The architecture</text>
<text text-anchor="middle" x="2969" y="-191.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">requires that all array values of a Node table be themselves Nodes. This is</text>
<text text-anchor="middle" x="2969" y="-176.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">frequently checked for, in that we use </text>
</g>
<!-- raw_58&#45;&gt;leaf_61 -->
<g id="edge61" class="edge">
<title>raw_58&#45;&gt;leaf_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3281.4439,-415.3323C3275.3298,-400.8142 3265.0399,-380.3871 3251,-366.4005 3205.0398,-320.6148 3142.8064,-284.3875 3088.4948,-258.4605"/>
<polygon fill="#000000" stroke="#000000" points="3089.6916,-255.1555 3079.1531,-254.0643 3086.7109,-261.4892 3089.6916,-255.1555"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="3316,-228.9003 3258,-228.9003 3258,-192.9003 3316,-192.9003 3316,-228.9003"/>
<text text-anchor="middle" x="3287" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">isNode</text>
</g>
<!-- literal_59&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>literal_59&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3356.9347,-415.2341C3348.8803,-394.8938 3335.4755,-360.4217 3325,-330.4005 3314.1429,-299.2856 3302.8391,-263.185 3295.4129,-238.874"/>
<polygon fill="#000000" stroke="#000000" points="3298.7373,-237.7757 3292.4803,-229.2257 3292.0398,-239.8114 3298.7373,-237.7757"/>
</g>
<!-- leaf_63 -->
<g id="node64" class="node">
<title>leaf_63</title>
<polygon fill="none" stroke="#c0c0c0" points="3546,-230.2008 3334,-230.2008 3334,-191.5997 3546,-191.5997 3546,-230.2008"/>
<text text-anchor="middle" x="3440" y="-215.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> to filter in iterators etc,</text>
<text text-anchor="middle" x="3440" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">but this is defensive. </text>
</g>
<!-- raw_60&#45;&gt;leaf_63 -->
<g id="edge63" class="edge">
<title>raw_60&#45;&gt;leaf_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3440,-414.7334C3440,-376.4008 3440,-286.9519 3440,-240.3354"/>
<polygon fill="#000000" stroke="#000000" points="3443.5001,-240.2658 3440,-230.2659 3436.5001,-240.2659 3443.5001,-240.2658"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="4105.5,-246.1006 3564.5,-246.1006 3564.5,-175.6999 4105.5,-175.6999 4105.5,-246.1006"/>
<text text-anchor="middle" x="3835" y="-214.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">The use of SUPPRESS lets us drop rules that we don&#39;t want to see in the</text>
<text text-anchor="middle" x="3835" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">final AST. &#160;A normal approach to parsing has explicit captures, but this is</text>
<text text-anchor="middle" x="3835" y="-184.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">inelegant compared to treating any Node without children as a leaf.</text>
</g>
<!-- raw_64&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>raw_64&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4106.8592,-419.0135C4064.1095,-386.2878 3955.67,-303.2754 3889.3877,-252.5351"/>
<polygon fill="#000000" stroke="#000000" points="3891.1909,-249.5076 3881.1229,-246.2082 3886.9358,-255.0659 3891.1909,-249.5076"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4616,-238.2007 4124,-238.2007 4124,-183.5998 4616,-183.5998 4616,-238.2007"/>
<text text-anchor="middle" x="4370" y="-207.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">What about regions of text that don&#39;t interest us? &#160;Canonically this</text>
<text text-anchor="middle" x="4370" y="-191.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">includes whitespace. &#160;For those occasions, we have </text>
</g>
<!-- raw_66&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>raw_66&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4475.2439,-415.8492C4456.8271,-379.9848 4413.7285,-296.0559 4388.7706,-247.4536"/>
<polygon fill="#000000" stroke="#000000" points="4391.8641,-245.8158 4384.1826,-238.519 4385.6372,-249.0135 4391.8641,-245.8158"/>
</g>
<!-- leaf_70 -->
<g id="node71" class="node">
<title>leaf_70</title>
<polygon fill="none" stroke="#c0c0c0" points="4706,-228.9003 4634,-228.9003 4634,-192.9003 4706,-192.9003 4706,-228.9003"/>
<text text-anchor="middle" x="4670" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">elpatt.D</text>
</g>
<!-- literal_67&#45;&gt;leaf_70 -->
<g id="edge70" class="edge">
<title>literal_67&#45;&gt;leaf_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4671.8363,-414.7334C4671.4883,-376.098 4670.6724,-285.5357 4670.2553,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="4673.7532,-238.9752 4670.1631,-229.0072 4666.7535,-239.0383 4673.7532,-238.9752"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="4778,-228.9003 4724,-228.9003 4724,-192.9003 4778,-192.9003 4778,-228.9003"/>
<text text-anchor="middle" x="4751" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">. </text>
</g>
<!-- raw_68&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>raw_68&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4750.0818,-414.7334C4750.2559,-376.098 4750.6638,-285.5357 4750.8723,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="4754.3733,-239.0229 4750.9184,-229.0072 4747.3733,-238.9913 4754.3733,-239.0229"/>
</g>
<!-- leaf_77 -->
<g id="node78" class="node">
<title>leaf_77</title>
<polygon fill="none" stroke="#c0c0c0" points="4850,-228.9003 4796,-228.9003 4796,-192.9003 4850,-192.9003 4850,-228.9003"/>
</g>
<!-- raw_72&#45;&gt;leaf_77 -->
<g id="edge77" class="edge">
<title>raw_72&#45;&gt;leaf_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4823,-414.7334C4823,-376.098 4823,-285.5357 4823,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="4826.5001,-239.0071 4823,-229.0072 4819.5001,-239.0072 4826.5001,-239.0071"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="4922,-228.9003 4868,-228.9003 4868,-192.9003 4922,-192.9003 4922,-228.9003"/>
<text text-anchor="middle" x="4895" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">D</text>
</g>
<!-- literal_73&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>literal_73&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4898.6727,-414.7334C4897.9765,-376.098 4896.3448,-285.5357 4895.5106,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="4899.0059,-238.9424 4895.3262,-229.0072 4892.0071,-239.0686 4899.0059,-238.9424"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="5439.5,-230.2008 4940.5,-230.2008 4940.5,-191.5997 5439.5,-191.5997 5439.5,-230.2008"/>
<text text-anchor="middle" x="5190" y="-215.1003" font-family="Inconsolata" font-size="14.00" fill="#000000"> needs to take a pattern, and if it succeeds in matching it, return a</text>
<text text-anchor="middle" x="5190" y="-199.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">special table, while discarding the captures if any. In </text>
</g>
<!-- raw_74&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>raw_74&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4982.3257,-415.4738C4988.7122,-401.4168 4998.8453,-381.5592 5011,-366.4005 5053.1358,-313.8512 5114.5347,-264.9509 5153.3587,-236.5027"/>
<polygon fill="#000000" stroke="#000000" points="5155.723,-239.1116 5161.762,-230.4063 5151.6124,-233.4456 5155.723,-239.1116"/>
</g>
<!-- leaf_80 -->
<g id="node81" class="node">
<title>leaf_80</title>
<polygon fill="none" stroke="#c0c0c0" points="5516,-228.9003 5458,-228.9003 5458,-192.9003 5516,-192.9003 5516,-228.9003"/>
<text text-anchor="middle" x="5487" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">define</text>
</g>
<!-- literal_75&#45;&gt;leaf_80 -->
<g id="edge80" class="edge">
<title>literal_75&#45;&gt;leaf_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5056.6437,-414.9318C5062.5598,-399.3162 5073.4751,-377.5074 5091,-366.4005 5158.3487,-323.7164 5385.8955,-380.4085 5448,-330.4005 5475.1607,-308.53 5483.6096,-267.4048 5486.1238,-239.5822"/>
<polygon fill="#000000" stroke="#000000" points="5489.6379,-239.5008 5486.8412,-229.2818 5482.6548,-239.0144 5489.6379,-239.5008"/>
</g>
<!-- leaf_81 -->
<g id="node82" class="node">
<title>leaf_81</title>
<polygon fill="none" stroke="#c0c0c0" points="5935.5,-238.2007 5534.5,-238.2007 5534.5,-183.5998 5935.5,-183.5998 5935.5,-238.2007"/>
<text text-anchor="middle" x="5735" y="-223.1003" font-family="Inconsolata" font-size="14.00" fill="#000000">, we will</text>
<text text-anchor="middle" x="5735" y="-207.7003" font-family="Inconsolata" font-size="14.00" fill="#000000">check for this table, and drop it whenever encountered.</text>
</g>
<!-- raw_76&#45;&gt;leaf_81 -->
<g id="edge81" class="edge">
<title>raw_76&#45;&gt;leaf_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5131.5734,-414.9741C5136.5572,-399.3869 5146.1652,-377.5961 5163,-366.4005 5230.3148,-321.6341 5447.9688,-354.926 5525,-330.4005 5586.0127,-310.9751 5648.927,-272.2294 5689.7836,-244.1095"/>
<polygon fill="#000000" stroke="#000000" points="5691.9498,-246.8662 5698.1585,-238.2811 5687.9513,-241.1206 5691.9498,-246.8662"/>
</g>
<!-- leaf_83 -->
<g id="node84" class="node">
<title>leaf_83</title>
<polygon fill="none" stroke="#c0c0c0" points="6256.5,-230.8023 5953.5,-230.8023 5953.5,-190.9982 6256.5,-190.9982 6256.5,-230.8023"/>
<text text-anchor="middle" x="6105" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; patt : &#160;The pattern to match and drop</text>
</g>
<!-- raw_82&#45;&gt;leaf_83 -->
<g id="edge83" class="edge">
<title>raw_82&#45;&gt;leaf_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5203.3519,-415.084C5208.2215,-399.3443 5217.7882,-377.2556 5235,-366.4005 5368.4371,-282.2442 5795.5172,-383.698 5944,-330.4005 5998.1354,-310.9687 6049.4606,-266.8373 6079.0504,-237.9862"/>
<polygon fill="#000000" stroke="#000000" points="6081.8148,-240.1739 6086.4488,-230.6462 6076.8846,-235.2046 6081.8148,-240.1739"/>
</g>
<!-- leaf_85 -->
<g id="node86" class="node">
<title>leaf_85</title>
<polygon fill="none" stroke="#c0c0c0" points="6515,-230.8023 6275,-230.8023 6275,-190.9982 6515,-190.9982 6515,-230.8023"/>
<text text-anchor="middle" x="6395" y="-199.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#45; #return : Special table DROP</text>
</g>
<!-- raw_84&#45;&gt;leaf_85 -->
<g id="edge85" class="edge">
<title>raw_84&#45;&gt;leaf_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5275.3187,-415.0309C5280.1654,-399.2547 5289.7171,-377.142 5307,-366.4005 5397.4699,-310.1722 6166.4973,-370.9424 6265,-330.4005 6311.4435,-311.2852 6351.6839,-267.6955 6374.6401,-238.7849"/>
<polygon fill="#000000" stroke="#000000" points="6377.5562,-240.736 6380.9224,-230.6901 6372.0262,-236.4442 6377.5562,-240.736"/>
</g>
<!-- leaf_91 -->
<g id="node92" class="node">
<title>leaf_91</title>
<polygon fill="none" stroke="#c0c0c0" points="6682.5,-228.9003 6533.5,-228.9003 6533.5,-192.9003 6682.5,-192.9003 6682.5,-228.9003"/>
<text text-anchor="middle" x="6608" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">*** S : Capture set</text>
</g>
<!-- header_87&#45;&gt;leaf_91 -->
<g id="edge91" class="edge">
<title>header_87&#45;&gt;leaf_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6608,-414.7334C6608,-376.098 6608,-285.5357 6608,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="6611.5001,-239.0071 6608,-229.0072 6604.5001,-239.0072 6611.5001,-239.0071"/>
</g>
<!-- raw_92 -->
<g id="node93" class="node">
<title>raw_92</title>
<ellipse fill="none" stroke="#000000" cx="6728" cy="-210.9003" rx="27" ry="18"/>
<text text-anchor="middle" x="6728" y="-206.7003" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_88&#45;&gt;raw_92 -->
<g id="edge92" class="edge">
<title>prose_88&#45;&gt;raw_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6739.018,-414.7334C6736.9296,-376.098 6732.0343,-285.5357 6729.5318,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="6733.0135,-238.8036 6728.9787,-229.0072 6726.0237,-239.1815 6733.0135,-238.8036"/>
</g>
<!-- leaf_94 -->
<g id="node95" class="node">
<title>leaf_94</title>
<polygon fill="none" stroke="#c0c0c0" points="7013,-284.0011 6773,-284.0011 6773,-137.7994 7013,-137.7994 7013,-284.0011"/>
<text text-anchor="middle" x="6893" y="-269.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">function elpatt.S(a, ...)</text>
<text text-anchor="middle" x="6893" y="-253.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local arg = {...}</text>
<text text-anchor="middle" x="6893" y="-238.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local set = P(a)</text>
<text text-anchor="middle" x="6893" y="-222.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _, patt in ipairs(arg) do</text>
<text text-anchor="middle" x="6893" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;io.write(patt ..&quot;\n&quot;)</text>
<text text-anchor="middle" x="6893" y="-192.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;set = set + P(patt)</text>
<text text-anchor="middle" x="6893" y="-176.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="6893" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return set</text>
<text text-anchor="middle" x="6893" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_89&#45;&gt;leaf_94 -->
<g id="edge94" class="edge">
<title>codeblock_89&#45;&gt;leaf_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6883.8183,-414.7334C6884.9998,-388.5058 6887.2591,-338.3485 6889.2408,-294.3539"/>
<polygon fill="#000000" stroke="#000000" points="6892.7446,-294.3469 6889.6982,-284.1995 6885.7517,-294.0318 6892.7446,-294.3469"/>
</g>
<!-- leaf_95 -->
<g id="node96" class="node">
<title>leaf_95</title>
<polygon fill="none" stroke="#c0c0c0" points="7138.5,-228.9003 7031.5,-228.9003 7031.5,-192.9003 7138.5,-192.9003 7138.5,-228.9003"/>
<text text-anchor="middle" x="7085" y="-207.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">return elpatt</text>
</g>
<!-- codeblock_90&#45;&gt;leaf_95 -->
<g id="edge95" class="edge">
<title>codeblock_90&#45;&gt;leaf_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7078.5728,-414.7334C7079.7911,-376.098 7082.6466,-285.5357 7084.1064,-239.2388"/>
<polygon fill="#000000" stroke="#000000" points="7087.6121,-239.1125 7084.4291,-229.0072 7080.6155,-238.8919 7087.6121,-239.1125"/>
</g>
<!-- leaf_93 -->
<g id="node94" class="node">
<title>leaf_93</title>
<polygon fill="none" stroke="#c0c0c0" points="6755,-45.7 6701,-45.7 6701,-9.7 6755,-9.7 6755,-45.7"/>
</g>
<!-- raw_92&#45;&gt;leaf_93 -->
<g id="edge93" class="edge">
<title>raw_92&#45;&gt;leaf_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6728,-192.6646C6728,-160.7037 6728,-94.3538 6728,-56.2575"/>
<polygon fill="#000000" stroke="#000000" points="6731.5001,-55.8619 6728,-45.862 6724.5001,-55.862 6731.5001,-55.8619"/>
</g>
</g>
</svg>