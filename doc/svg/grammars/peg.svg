<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="1710pt" height="2170pt"
 viewBox="0.00 0.00 1710.00 2170.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2166.403)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2166.403 1706,-2166.403 1706,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="667.5" cy="-2144.403" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="667.5" y="-2140.203" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 137</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="667.5" cy="-2072.403" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="667.5" y="-2068.203" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;137</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M667.5,-2126.2344C667.5,-2118.534 667.5,-2109.3773 667.5,-2100.8196"/>
<polygon fill="#000000" stroke="#000000" points="671.0001,-2100.8162 667.5,-2090.8163 664.0001,-2100.8163 671.0001,-2100.8162"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="355.5" cy="-2000.403" rx="138.2606" ry="18"/>
<text text-anchor="middle" x="355.5" y="-1996.203" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : Parsing Expression Grammar</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M617.025,-2060.7549C567.381,-2049.2986 490.8963,-2031.6483 433.4418,-2018.3896"/>
<polygon fill="#000000" stroke="#000000" points="434.2013,-2014.9729 423.6703,-2016.1346 432.6272,-2021.7937 434.2013,-2014.9729"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="544.5" cy="-2000.403" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="544.5" y="-1996.203" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M639.5894,-2056.0651C620.6209,-2044.9616 595.5028,-2030.2583 575.8461,-2018.7519"/>
<polygon fill="#000000" stroke="#000000" points="577.3623,-2015.5839 566.964,-2013.5526 573.826,-2021.625 577.3623,-2015.5839"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="626.5" cy="-2000.403" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="626.5" y="-1996.203" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M657.3652,-2054.6052C652.5632,-2046.1725 646.7315,-2035.9315 641.4358,-2026.6318"/>
<polygon fill="#000000" stroke="#000000" points="644.3667,-2024.7055 636.3768,-2017.7476 638.2838,-2028.1694 644.3667,-2024.7055"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="708.5" cy="-2000.403" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="708.5" y="-1996.203" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M677.6348,-2054.6052C682.4368,-2046.1725 688.2685,-2035.9315 693.5642,-2026.6318"/>
<polygon fill="#000000" stroke="#000000" points="696.7162,-2028.1694 698.6232,-2017.7476 690.6333,-2024.7055 696.7162,-2028.1694"/>
</g>
<!-- codeblock_6 -->
<g id="node7" class="node">
<title>codeblock_6</title>
<ellipse fill="none" stroke="#000000" cx="891.5" cy="-2000.403" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="891.5" y="-1996.203" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 12&#45;16</text>
</g>
<!-- section_1&#45;&gt;codeblock_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;codeblock_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M710.1599,-2058.6909C745.968,-2047.1811 797.366,-2030.6604 836.305,-2018.1442"/>
<polygon fill="#000000" stroke="#000000" points="837.47,-2021.4462 845.9193,-2015.0539 835.3279,-2014.782 837.47,-2021.4462"/>
</g>
<!-- codeblock_7 -->
<g id="node8" class="node">
<title>codeblock_7</title>
<ellipse fill="none" stroke="#000000" cx="1251.5" cy="-2000.403" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="1251.5" y="-1996.203" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 18&#45;137</text>
</g>
<!-- section_1&#45;&gt;codeblock_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;codeblock_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M727.5259,-2065.0025C832.7368,-2052.0313 1050.5501,-2025.1776 1169.5355,-2010.5082"/>
<polygon fill="#000000" stroke="#000000" points="1170.1856,-2013.9547 1179.6821,-2009.2573 1169.329,-2007.0073 1170.1856,-2013.9547"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="461.5,-1044.9015 249.5,-1044.9015 249.5,-1008.9015 461.5,-1008.9015 461.5,-1044.9015"/>
<text text-anchor="middle" x="355.5" y="-1023.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">* Parsing Expression Grammar</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M355.5,-1982.2525C355.5,-1863.7844 355.5,-1200.9912 355.5,-1055.2463"/>
<polygon fill="#000000" stroke="#000000" points="359.0001,-1054.9269 355.5,-1044.9269 352.0001,-1054.9269 359.0001,-1054.9269"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="525.5" cy="-1026.9015" rx="27" ry="18"/>
<text text-anchor="middle" x="525.5" y="-1022.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M544.1458,-1982.2525C541.8336,-1863.7844 528.8977,-1200.9912 526.0532,-1055.2463"/>
<polygon fill="#000000" stroke="#000000" points="529.5464,-1054.8567 525.8518,-1044.9269 522.5477,-1054.9933 529.5464,-1054.8567"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="626.5" cy="-1026.9015" rx="27" ry="18"/>
<text text-anchor="middle" x="626.5" y="-1022.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_4&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M626.5,-1982.2525C626.5,-1863.7844 626.5,-1200.9912 626.5,-1055.2463"/>
<polygon fill="#000000" stroke="#000000" points="630.0001,-1054.9269 626.5,-1044.9269 623.0001,-1054.9269 630.0001,-1054.9269"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="703.5" cy="-1026.9015" rx="27" ry="18"/>
<text text-anchor="middle" x="703.5" y="-1022.7015" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_5&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M708.4068,-1982.2525C707.7983,-1863.7844 704.3941,-1200.9912 703.6456,-1055.2463"/>
<polygon fill="#000000" stroke="#000000" points="707.144,-1054.9088 703.5926,-1044.9269 700.1441,-1054.9448 707.144,-1054.9088"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="1156.5,-1054.102 748.5,-1054.102 748.5,-999.701 1156.5,-999.701 1156.5,-1054.102"/>
<text text-anchor="middle" x="952.5" y="-1038.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">local L = require &quot;node/elpatt&quot;</text>
<text text-anchor="middle" x="952.5" y="-1023.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local D, E, P, R, S, V &#160;&#160;= &#160;L.D, L.E, L.P, L.R, L.S, L.V</text>
<text text-anchor="middle" x="952.5" y="-1008.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">local Grammar = require &quot;node/grammar&quot;</text>
</g>
<!-- codeblock_6&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>codeblock_6&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M892.6373,-1982.2525C899.9148,-1866.1112 939.9732,-1226.817 950.1488,-1064.4243"/>
<polygon fill="#000000" stroke="#000000" points="953.6429,-1064.6274 950.7752,-1054.4281 946.6566,-1064.1896 953.6429,-1064.6274"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="1702,-1946.4045 1175,-1946.4045 1175,-107.3985 1702,-107.3985 1702,-1946.4045"/>
<text text-anchor="middle" x="1438.5" y="-1931.203" font-family="Inconsolata" font-size="14.00" fill="#000000">local function pegylator(_ENV)</text>
<text text-anchor="middle" x="1438.5" y="-1915.803" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;START &quot;rules&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1900.4029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;&#45;[[</text>
<text text-anchor="middle" x="1438.5" y="-1885.0029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;SUPPRESS (&quot;WS&quot;, &#160;&quot;enclosed&quot;, &quot;form&quot;,</text>
<text text-anchor="middle" x="1438.5" y="-1869.6029" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;element&quot; ,&quot;elements&quot;,</text>
<text text-anchor="middle" x="1438.5" y="-1854.2028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;allowed_prefixed&quot;, &quot;allowed_suffixed&quot;,</text>
<text text-anchor="middle" x="1438.5" y="-1838.8028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;simple&quot;, &quot;compound&quot;, &quot;prefixed&quot;, &quot;suffixed&quot; &#160;)</text>
<text text-anchor="middle" x="1438.5" y="-1823.4028" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45;]]</text>
<text text-anchor="middle" x="1438.5" y="-1808.0027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local comment_m &#160;= &#45;P&quot;\n&quot; * P(1)</text>
<text text-anchor="middle" x="1438.5" y="-1792.6027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local comment_c = &#160;comment_m^0 * #P&quot;\n&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1777.2027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local letter = R&quot;AZ&quot; + R&quot;az&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1761.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local valid_sym = letter + P&quot;&#45;&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1746.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local digit = R&quot;09&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1731.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local sym = valid_sym + digit</text>
<text text-anchor="middle" x="1438.5" y="-1715.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local WS = (P&#39; &#39; + P&#39;\n&#39; + P&#39;,&#39; + P&#39;\09&#39;)^0</text>
<text text-anchor="middle" x="1438.5" y="-1700.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local symbol = letter * ( &#45;(P&quot;&#45;&quot; * WS) * sym )^0</text>
<text text-anchor="middle" x="1438.5" y="-1684.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local h_string &#160;&#160;&#160;= (&#45;P&quot;`&quot; * core.escape)^0</text>
<text text-anchor="middle" x="1438.5" y="-1669.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local d_string = (&#45;P&#39;&quot;&#39; * core.escape)^0</text>
<text text-anchor="middle" x="1438.5" y="-1654.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local s_string = (&#45;P&quot;&#39;&quot; * core.escape)^0</text>
<text text-anchor="middle" x="1438.5" y="-1638.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local range_match = &#160;&#45;P&quot;&#45;&quot; * &#45;P&quot;\\&quot; * &#45;P&quot;]&quot; * P(1)</text>
<text text-anchor="middle" x="1438.5" y="-1623.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local range_capture = (range_match + P&quot;\\&#45;&quot; + P&quot;\\]&quot; + P&quot;\\&quot;)</text>
<text text-anchor="middle" x="1438.5" y="-1607.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local range_c &#160;= range_capture^1 * P&quot;&#45;&quot; * range_capture^1</text>
<text text-anchor="middle" x="1438.5" y="-1592.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local set_match = &#45;P&quot;}&quot; * &#45;P&quot;\\&quot; * P(1)</text>
<text text-anchor="middle" x="1438.5" y="-1577.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local set_c &#160;&#160;&#160;= (set_match + P&quot;\\}&quot; + P&quot;\\&quot;)^1</text>
<text text-anchor="middle" x="1438.5" y="-1561.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local some_num_c = &#160;&#160;digit^1 * P&quot;..&quot; * digit^1</text>
<text text-anchor="middle" x="1438.5" y="-1546.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;&#160;(P&quot;+&quot; + P&quot;&#45;&quot;)^0 * digit^1</text>
<text text-anchor="middle" x="1438.5" y="-1498.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;rules &#160;&#160;= &#160;V&quot;comment&quot;^0 * V&quot;rule&quot;^1</text>
<text text-anchor="middle" x="1438.5" y="-1483.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;rule &#160;&#160;&#160;= &#160;V&quot;lhs&quot; * V&quot;rhs&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1468.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;lhs &#160;&#160;&#160;&#160;= &#160;WS * V&quot;pattern&quot; * WS * ( P&quot;:&quot; + P&quot;=&quot; + &quot;:=&quot;)</text>
<text text-anchor="middle" x="1438.5" y="-1452.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;rhs &#160;&#160;&#160;&#160;= &#160;V&quot;form&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1421.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;form &#160;&#160;= &#160;V&quot;element&quot; * V&quot;elements&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1405.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;pattern = &#160;symbol</text>
<text text-anchor="middle" x="1438.5" y="-1390.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;hidden_pattern&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1375.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;hidden_pattern = &#160;P&quot;`&quot; * symbol * P&quot;`&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1343.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;element &#160;= &#160;&#160;&#45;V&quot;lhs&quot; * WS</text>
<text text-anchor="middle" x="1438.5" y="-1328.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;( V&quot;simple&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1312.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;&#160;&#160;V&quot;compound&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1297.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;&#160;&#160;V&quot;comment&quot; )</text>
<text text-anchor="middle" x="1438.5" y="-1282.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;elements &#160;= &#160;V&quot;choice&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1266.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;cat&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1251.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;P&quot;&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1219.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;choice = &#160;WS * P&quot;/&quot; * V&quot;form&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1204.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;cat = &#160;WS * V&quot;form&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1189.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;compound = &#160;V&quot;group&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1173.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;enclosed&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1158.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;hidden_match&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1126.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;group &#160;&#160;= &#160;WS * V&quot;pel&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1111.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;WS * V&quot;form&quot; * WS</text>
<text text-anchor="middle" x="1438.5" y="-1096.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;V&quot;per&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1080.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;pel &#160;&#160;&#160;&#160;= D &quot;(&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1065.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;per &#160;&#160;&#160;&#160;= D &quot;)&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1033.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;enclosed = &#160;V&quot;literal&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1018.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;hidden_literal&quot;</text>
<text text-anchor="middle" x="1438.5" y="-1003.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;set&quot;</text>
<text text-anchor="middle" x="1438.5" y="-987.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;range&quot;</text>
<text text-anchor="middle" x="1438.5" y="-956.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;hidden_match = &#160;WS * P&quot;``&quot;</text>
<text text-anchor="middle" x="1438.5" y="-940.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;WS * V&quot;form&quot; * WS</text>
<text text-anchor="middle" x="1438.5" y="-925.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* &#160;P&quot;``&quot;</text>
<text text-anchor="middle" x="1438.5" y="-894.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;simple &#160;&#160;= &#160;V&quot;suffixed&quot;</text>
<text text-anchor="middle" x="1438.5" y="-878.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;prefixed&quot;</text>
<text text-anchor="middle" x="1438.5" y="-863.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;atom&quot;</text>
<text text-anchor="middle" x="1438.5" y="-831.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;comment &#160;= &#160;D&quot;;&quot; * comment_c</text>
<text text-anchor="middle" x="1438.5" y="-800.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;prefixed = &#160;V&quot;if_not_this&quot;</text>
<text text-anchor="middle" x="1438.5" y="-785.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;not_this&quot;</text>
<text text-anchor="middle" x="1438.5" y="-769.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;if_and_this&quot;</text>
<text text-anchor="middle" x="1438.5" y="-754.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;capture&quot;</text>
<text text-anchor="middle" x="1438.5" y="-722.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;suffixed = &#160;V&quot;optional&quot;</text>
<text text-anchor="middle" x="1438.5" y="-707.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;more_than_one&quot;</text>
<text text-anchor="middle" x="1438.5" y="-692.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;maybe&quot;</text>
<text text-anchor="middle" x="1438.5" y="-676.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;with_suffix&quot;</text>
<text text-anchor="middle" x="1438.5" y="-661.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;V&quot;some_number&quot;</text>
<text text-anchor="middle" x="1438.5" y="-629.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if_not_this = P&quot;!&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="1438.5" y="-614.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;not_this &#160;&#160;&#160;= P&quot;&#45;&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="1438.5" y="-599.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if_and_this = P&quot;&amp;&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="1438.5" y="-583.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;capture &#160;&#160;&#160;&#160;= P&quot;~&quot; * WS * V&quot;allowed_prefixed&quot;</text>
<text text-anchor="middle" x="1438.5" y="-552.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;literal = &#160;D&#39;&quot;&#39; * d_string * D&#39;&quot;&#39;</text>
<text text-anchor="middle" x="1438.5" y="-536.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ &#160;D&quot;&#39;&quot; * s_string * D&quot;&#39;&quot;)</text>
<text text-anchor="middle" x="1438.5" y="-505.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;hidden_literal = &#45;P&quot;``&quot; * D&quot;`&quot; * hidden_string * &#45;P&quot;``&quot; * D&quot;`&quot;</text>
<text text-anchor="middle" x="1438.5" y="-474.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;set &#160;&#160;&#160;&#160;= &#160;P&quot;{&quot; * set_c^1 * P&quot;}&quot;</text>
<text text-anchor="middle" x="1438.5" y="-442.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Change range to not use &#39;&#45;&#39; separator instead require even # of bytes.</text>
<text text-anchor="middle" x="1438.5" y="-427.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; Ru catches edge cases involving multi&#45;byte chars.</text>
<text text-anchor="middle" x="1438.5" y="-395.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;range &#160;&#160;= &#160;P&quot;[&quot; * range_c * P&quot;]&quot;</text>
<text text-anchor="middle" x="1438.5" y="-364.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;optional &#160;&#160;&#160;&#160;&#160;= &#160;V&quot;allowed_suffixed&quot; * WS * P&quot;*&quot;</text>
<text text-anchor="middle" x="1438.5" y="-349.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;more_than_one = &#160;V&quot;allowed_suffixed&quot; * WS * P&quot;+&quot;</text>
<text text-anchor="middle" x="1438.5" y="-333.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;maybe &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= &#160;V&quot;allowed_suffixed&quot; * WS * P&quot;?&quot;</text>
<text text-anchor="middle" x="1438.5" y="-302.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;with_suffix &#160;&#160;= &#160;V&quot;some_number&quot; * V&quot;which_suffix&quot;</text>
<text text-anchor="middle" x="1438.5" y="-286.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;which_suffix &#160;= &#160;( P&quot;*&quot; + P&quot;+&quot; + P&quot;?&quot;)</text>
<text text-anchor="middle" x="1438.5" y="-271.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;some_number &#160;&#160;= &#160;V&quot;allowed_suffixed&quot; * WS * V&quot;some_suffix&quot;</text>
<text text-anchor="middle" x="1438.5" y="-256.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;some_suffix &#160;&#160;= P&quot;$&quot; * V&quot;repeats&quot;</text>
<text text-anchor="middle" x="1438.5" y="-224.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repeats &#160;&#160;&#160;&#160;&#160;&#160;= &#160;Csp(some_num_c)</text>
<text text-anchor="middle" x="1438.5" y="-209.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;allowed_prefixed = &#160;V&quot;compound&quot; + V&quot;suffixed&quot; + V&quot;atom&quot;</text>
<text text-anchor="middle" x="1438.5" y="-193.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;allowed_suffixed = &#160;V&quot;compound&quot; + V&quot;prefixed&quot; + V&quot;atom&quot;</text>
<text text-anchor="middle" x="1438.5" y="-162.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;atom = &#160;V&quot;ws&quot; + symbol</text>
<text text-anchor="middle" x="1438.5" y="-131.0001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;ws = Csp(P&quot;_&quot;)</text>
<text text-anchor="middle" x="1438.5" y="-115.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_7&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>codeblock_7&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1254.9865,-1982.2525C1256.2976,-1975.4271 1257.9558,-1966.7948 1259.9221,-1956.5587"/>
<polygon fill="#000000" stroke="#000000" points="1263.364,-1957.1938 1261.8133,-1946.7131 1256.4896,-1955.8733 1263.364,-1957.1938"/>
</g>
<!-- leaf_10 -->
<g id="node11" class="node">
<title>leaf_10</title>
<polygon fill="none" stroke="#c0c0c0" points="345,-71.6012 0,-71.6012 0,.2011 345,.2011 345,-71.6012"/>
<text text-anchor="middle" x="172.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Now, at last, we are ready to swallow the tail.</text>
</g>
<!-- raw_9&#45;&gt;leaf_10 -->
<g id="edge10" class="edge">
<title>raw_9&#45;&gt;leaf_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M527.2123,-1008.6821C537.7811,-892.0016 589.8684,-249.9238 470.5,-107.4 465.8177,-101.8094 410.4905,-87.857 348.7556,-73.7301"/>
<polygon fill="#000000" stroke="#000000" points="349.3269,-70.2707 338.7993,-71.4626 347.7724,-77.0959 349.3269,-70.2707"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="890,-70.9004 363,-70.9004 363,-.4996 890,-.4996 890,-70.9004"/>
<text text-anchor="middle" x="626.5" y="-39.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Parsing Expression Grammars can be expressed in a format which is itself</text>
<text text-anchor="middle" x="626.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">grammatical. &#160;We could use this to build Lua code against our Node class,</text>
<text text-anchor="middle" x="626.5" y="-8.8" font-family="Inconsolata" font-size="14.00" fill="#000000">generating a parser from the description.</text>
</g>
<!-- raw_11&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_11&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M626.5,-1008.8512C626.5,-893.3992 626.5,-257.6518 626.5,-81.1582"/>
<polygon fill="#000000" stroke="#000000" points="630.0001,-80.925 626.5,-70.925 623.0001,-80.925 630.0001,-80.925"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="1043,-55.6021 908,-55.6021 908,-15.7979 1043,-15.7979 1043,-55.6021"/>
<text text-anchor="middle" x="975.5" y="-24.2" font-family="Inconsolata" font-size="14.00" fill="#000000">So let&#39;s do that.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M701.3527,-1008.6892C688.0067,-892.0531 620.7635,-250.2043 739.5,-107.4 785.8233,-51.6871 829.9167,-94.7689 898.5,-71.4 908.1238,-68.1209 918.1536,-64.0159 927.6714,-59.7684"/>
<polygon fill="#000000" stroke="#000000" points="929.3529,-62.8479 936.9845,-55.4988 926.4356,-56.4847 929.3529,-62.8479"/>
</g>
</g>
</svg>